<html>
<script type="text/javascript">
(function(){function a8(){if(a8.is(arguments[0],dc)){var a=arguments[0],l=dh[aO](a8,a.splice(0,3+a8.is(a[0],dg))),k=l.set();for(var j=0,f=a[av];j<f;j++){var c=a[j]||{};a4[aY](c.type)&&k[c5](l[c.type]().attr(c))}return k}return dh[aO](a8,arguments)}a8.version="1.5.2";var a6=/[, ]+/,a4={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},a2=/\{(\d+)\}/g,a0="prototype",aY="hasOwnProperty",aW=document,aU=window,aS={was:Object[a0][aY].call(aU,"Raphael"),is:aU.Raphael},aR=function(){this.customAttributes={}},aQ,aP="appendChild",aO="apply",aN="concat",aL="createTouch" in aW,aJ="",aH=" ",aF=String,aD="split",aB="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[aD](aH),az={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},ax="join",av="length",at=aF[a0].toLowerCase,aq=Math,ao=aq.max,dp=aq.min,dm=aq.abs,dk=aq.pow,di=aq.PI,dg="number",de="string",dc="array",da="toString",c8="fill",c7=Object[a0][da],c6={},c5="push",c4=/^url\(['"]?([^\)]+?)['"]?\)$/i,c2=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,c0={"NaN":1,Infinity:1,"-Infinity":1},cX=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,cU=aq.round,cR="setAttribute",cP=parseFloat,cN=parseInt,cL=" progid:DXImageTransform.Microsoft",cJ=aF[a0].toUpperCase,cH={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},cF={along:"along",blur:dg,"clip-rect":"csv",cx:dg,cy:dg,fill:"colour","fill-opacity":dg,"font-size":dg,height:dg,opacity:dg,path:"path",r:dg,rotation:"csv",rx:dg,ry:dg,scale:"csv",stroke:"colour","stroke-opacity":dg,"stroke-width":dg,translation:"csv",width:dg,x:dg,y:dg},b9="replace",b7=/^(from|to|\d+%?)$/,dI=/\s*,\s*/,b0={hs:1,rg:1},cZ=/,?([achlmqrstvxz]),?/gi,cW=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,cT=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,cQ=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,cO=function(e,c){return e.key-c.key};a8.type=aU.SVGAngle||aW.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a8.type=="VML"){var cM=aW.createElement("div"),cK;cM.innerHTML='<v:shape adj="1"/>';cK=cM.firstChild;cK.style.behavior="url(#default#VML)";if(!(cK&&typeof cK.adj=="object")){return a8.type=null}cM=null}a8.svg=!(a8.vml=a8.type=="VML");aR[a0]=a8[a0];aQ=aR[a0];a8._id=0;a8._oid=0;a8.fn={};a8.is=function(e,c){c=at.call(c);if(c=="finite"){return !c0[aY](+e)}return c=="null"&&e===null||c==typeof e||c=="object"&&e===Object(e)||c=="array"&&Array.isArray&&Array.isArray(e)||c7.call(e).slice(8,-1).toLowerCase()==c};a8.angle=function(a,q,o,n,m,l){if(m==null){var k=a-o,j=q-n;if(!k&&!j){return 0}return((k<0)*180+aq.atan(-j/-k)*180/di+360)%360}return a8.angle(a,q,m,l)-a8.angle(o,n,m,l)};a8.rad=function(b){return b%360*di/180};a8.deg=function(b){return b*180/di%360};a8.snapTo=function(a,k,j){j=a8.is(j,"finite")?j:10;if(a8.is(a,dc)){var h=a.length;while(h--){if(dm(a[h]-k)<=j){return a[h]}}}else{a=+a;var g=k%a;if(g<j){return k-g}if(g>a-j){return k-g+a}}return k};function cI(){var e=[],c=0;for(;c<32;c++){e[c]=(~(~(aq.random()*16)))[da](16)}e[12]=4;e[16]=(e[16]&3|8)[da](16);return"r-"+e[ax]("")}a8.setWindow=function(b){aU=b;aW=aU.document};var cG=function(g){if(j.vml){var o=/^\s+|\s+$/g,n;try{var m=new ActiveXObject("htmlfile");m.write("<body>");m.close();n=m.body}catch(j){n=createPopup().document.body}var l=n.createTextRange();cG=b5(function(e){try{n.style.color=aF(e)[b9](o,aJ);var c=l.queryCommandValue("ForeColor");c=(c&255)<<16|c&65280|(c&16711680)>>>16;return"#"+("000000"+c[da](16)).slice(-6)}catch(e){return"none"}})}else{var k=aW.createElement("i");k.title="Rapha??l Colour Picker";k.style.display="none";aW.body[aP](k);cG=b5(function(b){k.style.color=b;return aW.defaultView.getComputedStyle(k,aJ).getPropertyValue("color")})}return cG(g)},cE=function(){return"hsb("+[this.h,this.s,this.b]+")"},b8=function(){return"hsl("+[this.h,this.s,this.l]+")"},b6=function(){return this.hex};a8.hsb2rgb=function(a,h,g,f){if(a8.is(a,"object")&&"h" in a&&"s" in a&&"b" in a){g=a.b;h=a.s;a=a.h;f=a.o}return a8.hsl2rgb(a,h,g/2,f)};a8.hsl2rgb=function(B,A,z,y){if(a8.is(B,"object")&&"h" in B&&"s" in B&&"l" in B){z=B.l;A=B.s;B=B.h}if(B>1||A>1||z>1){B/=360;A/=100;z/=100}var x={},w=["r","g","b"],v,u,t,s,q,o;if(A){z<0.5?v=z*(1+A):v=z+A-z*A;u=2*z-v;for(var a=0;a<3;a++){t=B+1/3*-(a-1);t<0&&t++;t>1&&t--;t*6<1?x[w[a]]=u+(v-u)*6*t:t*2<1?x[w[a]]=v:t*3<2?x[w[a]]=u+(v-u)*(2/3-t)*6:x[w[a]]=u}}else{x={r:z,g:z,b:z}}x.r*=255;x.g*=255;x.b*=255;x.hex="#"+(16777216|x.b|x.g<<8|x.r<<16).toString(16).slice(1);a8.is(y,"finite")&&(x.opacity=y);x.toString=b6;return x};a8.rgb2hsb=function(v,u,t){if(u==null&&a8.is(v,"object")&&"r" in v&&"g" in v&&"b" in v){t=v.b;u=v.g;v=v.r}if(u==null&&a8.is(v,de)){var s=a8.getRGB(v);v=s.r;u=s.g;t=s.b}if(v>1||u>1||t>1){v/=255;u/=255;t/=255}var q=ao(v,u,t),o=dp(v,u,t),n,m,l=q;if(o==q){return{h:0,s:0,b:q,toString:cE}}var a=q-o;m=a/q;v==q?n=(u-t)/a:u==q?n=2+(t-v)/a:n=4+(v-u)/a;n/=6;n<0&&n++;n>1&&n--;return{h:n,s:m,b:l,toString:cE}};a8.rgb2hsl=function(x,w,v){if(w==null&&a8.is(x,"object")&&"r" in x&&"g" in x&&"b" in x){v=x.b;w=x.g;x=x.r}if(w==null&&a8.is(x,de)){var u=a8.getRGB(x);x=u.r;w=u.g;v=u.b}if(x>1||w>1||v>1){x/=255;w/=255;v/=255}var t=ao(x,w,v),s=dp(x,w,v),q,o,n=(t+s)/2,m;if(s==t){m={h:0,s:0,l:n}}else{var a=t-s;o=n<0.5?a/(t+s):a/(2-t-s);x==t?q=(w-v)/a:w==t?q=2+(v-x)/a:q=4+(x-w)/a;q/=6;q<0&&q++;q>1&&q--;m={h:q,s:o,l:n}}m.toString=b8;return m};a8._path2string=function(){return this.join(",")[b9](cZ,"$1")};function b5(f,e,h){function g(){var k=Array[a0].slice.call(arguments,0),c=k[ax]("???"),b=g.cache=g.cache||{},a=g.count=g.count||[];if(b[aY](c)){return h?h(b[c]):b[c]}a[av]>=1000&&delete b[a.shift()];a[c5](c);b[c]=f[aO](e,k);return h?h(b[c]):b[c]}return g}a8.getRGB=b5(function(t){if(!t||!(!((t=aF(t)).indexOf("-")+1))){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(t=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(b0[aY](t.toLowerCase().substring(0,2))||t.charAt()=="#")&&(t=cG(t));var s,q,o,n,m,l,f,a=t.match(c2);if(a){if(a[2]){n=cN(a[2].substring(5),16);o=cN(a[2].substring(3,5),16);q=cN(a[2].substring(1,3),16)}if(a[3]){n=cN((l=a[3].charAt(3))+l,16);o=cN((l=a[3].charAt(2))+l,16);q=cN((l=a[3].charAt(1))+l,16)}if(a[4]){f=a[4][aD](dI);q=cP(f[0]);f[0].slice(-1)=="%"&&(q*=2.55);o=cP(f[1]);f[1].slice(-1)=="%"&&(o*=2.55);n=cP(f[2]);f[2].slice(-1)=="%"&&(n*=2.55);a[1].toLowerCase().slice(0,4)=="rgba"&&(m=cP(f[3]));f[3]&&f[3].slice(-1)=="%"&&(m/=100)}if(a[5]){f=a[5][aD](dI);q=cP(f[0]);f[0].slice(-1)=="%"&&(q*=2.55);o=cP(f[1]);f[1].slice(-1)=="%"&&(o*=2.55);n=cP(f[2]);f[2].slice(-1)=="%"&&(n*=2.55);(f[0].slice(-3)=="deg"||f[0].slice(-1)=="??")&&(q/=360);a[1].toLowerCase().slice(0,4)=="hsba"&&(m=cP(f[3]));f[3]&&f[3].slice(-1)=="%"&&(m/=100);return a8.hsb2rgb(q,o,n,m)}if(a[6]){f=a[6][aD](dI);q=cP(f[0]);f[0].slice(-1)=="%"&&(q*=2.55);o=cP(f[1]);f[1].slice(-1)=="%"&&(o*=2.55);n=cP(f[2]);f[2].slice(-1)=="%"&&(n*=2.55);(f[0].slice(-3)=="deg"||f[0].slice(-1)=="??")&&(q/=360);a[1].toLowerCase().slice(0,4)=="hsla"&&(m=cP(f[3]));f[3]&&f[3].slice(-1)=="%"&&(m/=100);return a8.hsl2rgb(q,o,n,m)}a={r:q,g:o,b:n};a.hex="#"+(16777216|n|o<<8|q<<16).toString(16).slice(1);a8.is(m,"finite")&&(a.opacity=m);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a8);a8.getColor=function(f){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:f||0.75},g=this.hsb2rgb(e.h,e.s,e.b);e.h+=0.075;if(e.h>1){e.h=0;e.s-=0.2;e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})}return g.hex};a8.getColor.reset=function(){delete this.start};a8.parsePathString=b5(function(a){if(!a){return null}var f={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=[];a8.is(a,dc)&&a8.is(a[0],dc)&&(e=b3(a));e[av]||aF(a)[b9](cW,function(h,c,l){var k=[],j=at.call(c);l[b9](cT,function(m,g){g&&k[c5](+g)});if(j=="m"&&k[av]>2){e[c5]([c][aN](k.splice(0,2)));j="l";c=c=="m"?"l":"L"}while(k[av]>=f[j]){e[c5]([c][aN](k.splice(0,f[j])));if(!f[j]){break}}});e[da]=a8._path2string;return e});a8.findDotsAtSegment=function(P,O,N,M,L,K,J,I,H){var G=1-H,F=dk(G,3)*P+dk(G,2)*3*H*N+G*3*H*H*L+dk(H,3)*J,E=dk(G,3)*O+dk(G,2)*3*H*M+G*3*H*H*K+dk(H,3)*I,D=P+2*H*(N-P)+H*H*(L-2*N+P),C=O+2*H*(M-O)+H*H*(K-2*M+O),B=N+2*H*(L-N)+H*H*(J-2*L+N),A=M+2*H*(K-M)+H*H*(I-2*K+M),z=(1-H)*P+H*N,y=(1-H)*O+H*M,x=(1-H)*L+H*J,w=(1-H)*K+H*I,v=90-aq.atan((D-B)/(C-A))*180/di;(D>B||C<A)&&(v+=180);return{x:F,y:E,m:{x:D,y:C},n:{x:B,y:A},start:{x:z,y:y},end:{x:x,y:w},alpha:v}};var b4=b5(function(x){if(!x){return{x:0,y:0,width:0,height:0}}x=aZ(x);var w=0,v=0,u=[],t=[],s;for(var q=0,o=x[av];q<o;q++){s=x[q];if(s[0]=="M"){w=s[1];v=s[2];u[c5](w);t[c5](v)}else{var n=a1(w,v,s[1],s[2],s[3],s[4],s[5],s[6]);u=u[aN](n.min.x,n.max.x);t=t[aN](n.min.y,n.max.y);w=s[5];v=s[6]}}var m=dp[aO](0,u),l=dp[aO](0,t);return{x:m,y:l,width:ao[aO](0,u)-m,height:ao[aO](0,t)-l}}),b3=function(a){var m=[];if(!a8.is(a,dc)||!a8.is(a&&a[0],dc)){a=a8.parsePathString(a)}for(var l=0,k=a[av];l<k;l++){m[l]=[];for(var j=0,h=a[l][av];j<h;j++){m[l][j]=a[l][j]}}m[da]=a8._path2string;return m},b2=b5(function(G){if(!a8.is(G,dc)||!a8.is(G&&G[0],dc)){G=a8.parsePathString(G)}var F=[],E=0,D=0,C=0,B=0,A=0;if(G[0][0]=="M"){E=G[0][1];D=G[0][2];C=E;B=D;A++;F[c5](["M",E,D])}for(var z=A,y=G[av];z<y;z++){var x=F[z]=[],w=G[z];if(w[0]!=at.call(w[0])){x[0]=at.call(w[0]);switch(x[0]){case"a":x[1]=w[1];x[2]=w[2];x[3]=w[3];x[4]=w[4];x[5]=w[5];x[6]=+(w[6]-E).toFixed(3);x[7]=+(w[7]-D).toFixed(3);break;case"v":x[1]=+(w[1]-D).toFixed(3);break;case"m":C=w[1];B=w[2];default:for(var v=1,u=w[av];v<u;v++){x[v]=+(w[v]-(v%2?E:D)).toFixed(3)}}}else{x=F[z]=[];if(w[0]=="m"){C=w[1]+E;B=w[2]+D}for(var t=0,s=w[av];t<s;t++){F[z][t]=w[t]}}var a=F[z][av];switch(F[z][0]){case"z":E=C;D=B;break;case"h":E+=+F[z][a-1];break;case"v":D+=+F[z][a-1];break;default:E+=+F[z][a-2];D+=+F[z][a-1]}}F[da]=a8._path2string;return F},0,b3),b1=b5(function(E){if(!a8.is(E,dc)||!a8.is(E&&E[0],dc)){E=a8.parsePathString(E)}var D=[],C=0,B=0,A=0,z=0,y=0;if(E[0][0]=="M"){C=+E[0][1];B=+E[0][2];A=C;z=B;y++;D[0]=["M",C,B]}for(var x=y,w=E[av];x<w;x++){var v=D[x]=[],u=E[x];if(u[0]!=cJ.call(u[0])){v[0]=cJ.call(u[0]);switch(v[0]){case"A":v[1]=u[1];v[2]=u[2];v[3]=u[3];v[4]=u[4];v[5]=u[5];v[6]=+(u[6]+C);v[7]=+(u[7]+B);break;case"V":v[1]=+u[1]+B;break;case"H":v[1]=+u[1]+C;break;case"M":A=+u[1]+C;z=+u[2]+B;default:for(var t=1,s=u[av];t<s;t++){v[t]=+u[t]+(t%2?C:B)}}}else{for(var q=0,a=u[av];q<a;q++){D[x][q]=u[q]}}switch(v[0]){case"Z":C=A;B=z;break;case"H":C=v[1];break;case"V":B=v[1];break;case"M":A=D[x][D[x][av]-2];z=D[x][D[x][av]-1];default:C=D[x][D[x][av]-2];B=D[x][D[x][av]-1]}}D[da]=a8._path2string;return D},null,b3),a9=function(f,e,h,g){return[f,e,h,g,h,g]},a7=function(k,j,s,q,o,n){var m=1/3,l=2/3;return[m*k+l*s,m*j+l*q,m*o+l*s,m*n+l*q,o,n]},a5=function(bL,bK,bJ,bI,bH,bG,bF,bE,bD,bC){var bB=di*120/180,bA=di/180*(+bH||0),bz=[],by,bx=b5(function(g,f,k){var j=g*aq.cos(k)-f*aq.sin(k),h=g*aq.sin(k)+f*aq.cos(k);return{x:j,y:h}});if(bC){bm=bC[0];bl=bC[1];bo=bC[2];bn=bC[3]}else{by=bx(bL,bK,-bA);bL=by.x;bK=by.y;by=bx(bE,bD,-bA);bE=by.x;bD=by.y;var bw=aq.cos(di/180*bH),bv=aq.sin(di/180*bH),bu=(bL-bE)/2,bt=(bK-bD)/2,bs=bu*bu/(bJ*bJ)+bt*bt/(bI*bI);if(bs>1){bs=aq.sqrt(bs);bJ=bs*bJ;bI=bs*bI}var br=bJ*bJ,bq=bI*bI,bp=(bG==bF?-1:1)*aq.sqrt(dm((br*bq-br*bt*bt-bq*bu*bu)/(br*bt*bt+bq*bu*bu))),bo=bp*bJ*bt/bI+(bL+bE)/2,bn=bp*-bI*bu/bJ+(bK+bD)/2,bm=aq.asin(((bK-bn)/bI).toFixed(9)),bl=aq.asin(((bD-bn)/bI).toFixed(9));bm=bL<bo?di-bm:bm;bl=bE<bo?di-bl:bl;bm<0&&(bm=di*2+bm);bl<0&&(bl=di*2+bl);bF&&bm>bl&&(bm=bm-di*2);!bF&&bl>bm&&(bl=bl-di*2)}var bk=bl-bm;if(dm(bk)>bB){var bj=bl,bi=bE,bh=bD;bl=bm+bB*(bF&&bl>bm?1:-1);bE=bo+bJ*aq.cos(bl);bD=bn+bI*aq.sin(bl);bz=a5(bE,bD,bJ,bI,bH,0,bF,bi,bh,[bl,bj,bo,bn])}bk=bl-bm;var bg=aq.cos(bm),bf=aq.sin(bm),be=aq.cos(bl),bd=aq.sin(bl),bc=aq.tan(bk/4),bb=4/3*bJ*bc,ba=4/3*bI*bc,D=[bL,bK],B=[bL+bb*bf,bK-ba*bg],y=[bE+bb*bd,bD-ba*be],w=[bE,bD];B[0]=2*D[0]-B[0];B[1]=2*D[1]-B[1];if(bC){return[B,y,w][aN](bz)}bz=[B,y,w][aN](bz)[ax]()[aD](",");var v=[];for(var s=0,n=bz[av];s<n;s++){v[s]=s%2?bx(bz[s-1],bz[s],bA).y:bx(bz[s],bz[s+1],bA).x}return v},a3=function(v,u,t,s,q,o,n,m,l){var k=1-l;return{x:dk(k,3)*v+dk(k,2)*3*l*t+k*3*l*l*q+dk(l,3)*n,y:dk(k,3)*u+dk(k,2)*3*l*s+k*3*l*l*o+dk(l,3)*m}},a1=b5(function(G,F,E,D,C,B,A,z){var y=C-2*E+G-(A-2*C+E),x=2*(E-G)-2*(C-E),w=G-E,v=(-x+aq.sqrt(x*x-4*y*w))/2/y,u=(-x-aq.sqrt(x*x-4*y*w))/2/y,t=[F,z],s=[G,A],m;dm(v)>"1e12"&&(v=0.5);dm(u)>"1e12"&&(u=0.5);if(v>0&&v<1){m=a3(G,F,E,D,C,B,A,z,v);s[c5](m.x);t[c5](m.y)}if(u>0&&u<1){m=a3(G,F,E,D,C,B,A,z,u);s[c5](m.x);t[c5](m.y)}y=B-2*D+F-(z-2*B+D);x=2*(D-F)-2*(B-D);w=F-D;v=(-x+aq.sqrt(x*x-4*y*w))/2/y;u=(-x-aq.sqrt(x*x-4*y*w))/2/y;dm(v)>"1e12"&&(v=0.5);dm(u)>"1e12"&&(u=0.5);if(v>0&&v<1){m=a3(G,F,E,D,C,B,A,z,v);s[c5](m.x);t[c5](m.y)}if(u>0&&u<1){m=a3(G,F,E,D,C,B,A,z,u);s[c5](m.x);t[c5](m.y)}return{min:{x:dp[aO](0,s),y:dp[aO](0,t)},max:{x:ao[aO](0,s),y:ao[aO](0,t)}}}),aZ=b5(function(E,D){var C=b1(E),B=D&&b1(D),A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},y=function(f,e){var h,g;if(!f){return["C",e.x,e.y,e.x,e.y,e.x,e.y]}!(f[0] in {T:1,Q:1})&&(e.qx=e.qy=null);switch(f[0]){case"M":e.X=f[1];e.Y=f[2];break;case"A":f=["C"][aN](a5[aO](0,[e.x,e.y][aN](f.slice(1))));break;case"S":h=e.x+(e.x-(e.bx||e.x));g=e.y+(e.y-(e.by||e.y));f=["C",h,g][aN](f.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x));e.qy=e.y+(e.y-(e.qy||e.y));f=["C"][aN](a7(e.x,e.y,e.qx,e.qy,f[1],f[2]));break;case"Q":e.qx=f[1];e.qy=f[2];f=["C"][aN](a7(e.x,e.y,f[1],f[2],f[3],f[4]));break;case"L":f=["C"][aN](a9(e.x,e.y,f[1],f[2]));break;case"H":f=["C"][aN](a9(e.x,e.y,f[1],e.y));break;case"V":f=["C"][aN](a9(e.x,e.y,e.x,f[1]));break;case"Z":f=["C"][aN](a9(e.x,e.y,e.X,e.Y));break}return f},x=function(f,c){if(f[c][av]>7){f[c].shift();var g=f[c];while(g[av]){f.splice(c++,0,["C"][aN](g.splice(0,6)))}f.splice(c,1);u=ao(C[av],B&&B[av]||0)}},w=function(h,c,l,k,j){if(h&&c&&h[j][0]=="M"&&c[j][0]!="M"){c.splice(j,0,["M",k.x,k.y]);l.bx=0;l.by=0;l.x=h[j][1];l.y=h[j][2];u=ao(C[av],B&&B[av]||0)}};for(var v=0,u=ao(C[av],B&&B[av]||0);v<u;v++){C[v]=y(C[v],A);x(C,v);B&&(B[v]=y(B[v],z));B&&x(B,v);w(C,B,A,z,v);w(B,C,z,A,v);var t=C[v],s=B&&B[v],n=t[av],m=B&&s[av];A.x=t[n-2];A.y=t[n-1];A.bx=cP(t[n-4])||A.x;A.by=cP(t[n-3])||A.y;z.bx=B&&(cP(s[m-4])||z.x);z.by=B&&(cP(s[m-3])||z.y);z.x=B&&s[m-2];z.y=B&&s[m-1]}return B?[C,B]:C},null,b3),aX=b5(function(v){var u=[];for(var t=0,s=v[av];t<s;t++){var q={},o=v[t].match(/^([^:]*):?([\d\.]*)/);q.color=a8.getRGB(o[1]);if(q.color.error){return null}q.color=q.color.hex;o[2]&&(q.offset=o[2]+"%");u[c5](q)}for(t=1,s=u[av]-1;t<s;t++){if(!u[t].offset){var n=cP(u[t-1].offset||0),m=0;for(var l=t+1;l<s;l++){if(u[l].offset){m=u[l].offset;break}}if(!m){m=100;l=s}m=cP(m);var a=(m-n)/(l-t+1);for(;t<l;t++){n+=a;u[t].offset=n+"%"}}}return u}),aV=function(a,k,j,h){var g;if(a8.is(a,de)||a8.is(a,"object")){g=a8.is(a,de)?aW.getElementById(a):a;if(g.tagName){return k==null?{container:g,width:g.style.pixelWidth||g.offsetWidth,height:g.style.pixelHeight||g.offsetHeight}:{container:g,width:k,height:j}}}else{return{container:1,x:a,y:k,width:j,height:h}}},aT=function(f,e){var h=this;for(var g in e){if(e[aY](g)&&!(g in f)){switch(typeof e[g]){case"function":(function(a){f[g]=f===h?a:function(){return a[aO](h,arguments)}})(e[g]);break;case"object":f[g]=f[g]||{};aT.call(this,f[g],e[g]);break;default:f[g]=e[g];break}}}},dH=function(e,c){e==c.top&&(c.top=e.prev);e==c.bottom&&(c.bottom=e.next);e.next&&(e.next.prev=e.prev);e.prev&&(e.prev.next=e.next)},dG=function(e,c){if(c.top===e){return}dH(e,c);e.next=null;e.prev=c.top;c.top.next=e;c.top=e},dF=function(e,c){if(c.bottom===e){return}dH(e,c);e.next=c.bottom;e.prev=null;c.bottom.prev=e;c.bottom=e},dE=function(f,e,g){dH(f,g);e==g.top&&(g.top=f);e.next&&(e.next.prev=f);f.next=e.next;f.prev=e;e.next=f},dD=function(f,e,g){dH(f,g);e==g.bottom&&(g.bottom=f);e.prev&&(e.prev.next=f);f.prev=e.prev;e.prev=f;f.next=e},dC=function(b){return function(){throw new Error("Rapha??l: you are calling to method ???"+b+"??? of removed object")}};a8.pathToRelative=b2;if(a8.svg){aQ.svgns="http://www.w3.org/2000/svg";aQ.xlink="http://www.w3.org/1999/xlink";cU=function(b){return +b+(~(~b)===b)*0.5};var dB=function(f,e){if(e){for(var g in e){e[aY](g)&&f[cR](g,aF(e[g]))}}else{f=aW.createElementNS(aQ.svgns,f);f.style.webkitTapHighlightColor="rgba(0,0,0,0)";return f}};a8[da]=function(){return"Your browser supports SVG.\nYou are running Rapha??l "+this.version};var dA=function(f,e){var h=dB("path");e.canvas&&e.canvas[aP](h);var g=new du(h,e);g.type="path";dx(g,{fill:"none",stroke:"#000",path:f});return g},dz=function(F,E,D){var C="linear",B=0.5,A=0.5,z=F.style;E=aF(E)[b9](cQ,function(f,e,j){C="radial";if(e&&j){B=cP(e);A=cP(j);var h=(A>0.5)*2-1;dk(B-0.5,2)+dk(A-0.5,2)>0.25&&(A=aq.sqrt(0.25-dk(B-0.5,2))*h+0.5)&&A!=0.5&&(A=A.toFixed(5)-0.00001*h)}return aJ});E=E[aD](/\s*\-\s*/);if(C=="linear"){var y=E.shift();y=-cP(y);if(isNaN(y)){return null}var x=[0,0,aq.cos(y*di/180),aq.sin(y*di/180)],w=1/(ao(dm(x[2]),dm(x[3]))||1);x[2]*=w;x[3]*=w;if(x[2]<0){x[0]=-x[2];x[2]=0}if(x[3]<0){x[1]=-x[3];x[3]=0}}var v=aX(E);if(!v){return null}var s=F.getAttribute(c8);s=s.match(/^url\(#(.*)\)$/);s&&D.defs.removeChild(aW.getElementById(s[1]));var l=dB(C+"Gradient");l.id=cI();dB(l,C=="radial"?{fx:B,fy:A}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3]});D.defs[aP](l);for(var g=0,H=v[av];g<H;g++){var G=dB("stop");dB(G,{offset:v[g].offset?v[g].offset:g?"100%":"0%","stop-color":v[g].color||"#fff"});l[aP](G)}dB(F,{fill:"url(#"+l.id+")",opacity:1,"fill-opacity":1});z.fill=aJ;z.opacity=1;z.fillOpacity=1;return 1},dy=function(a){var e=a.getBBox();dB(a.pattern,{patternTransform:a8.format("translate({0},{1})",e.x,e.y)})},dx=function(X,W){var V={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},U=X.node,T=X.attrs,S=X.rotate(),R=function(h,e){e=V[at.call(e)];if(e){var n=h.attrs["stroke-width"]||"1",m=({round:n,square:n,butt:0})[h.attrs["stroke-linecap"]||W["stroke-linecap"]]||0,k=[],j=e[av];while(j--){k[j]=e[j]*n+(j%2?1:-1)*m}dB(U,{"stroke-dasharray":k[ax](",")})}};W[aY]("rotation")&&(S=W.rotation);var Q=aF(S)[aD](a6);if(Q.length-1){Q[1]=+Q[1];Q[2]=+Q[2]}else{Q=null}cP(S)&&X.rotate(0,true);for(var P in W){if(W[aY](P)){if(!cH[aY](P)){continue}var O=W[P];T[P]=O;switch(P){case"blur":X.blur(O);break;case"rotation":X.rotate(O,true);break;case"href":case"title":case"target":var x=U.parentNode;if(at.call(x.tagName)!="a"){var v=dB("a");x.insertBefore(v,U);v[aP](U);x=v}P=="target"&&O=="blank"?x.setAttributeNS(X.paper.xlink,"show","new"):x.setAttributeNS(X.paper.xlink,P,O);break;case"cursor":U.style.cursor=O;break;case"clip-rect":var g=aF(O)[aD](a6);if(g[av]==4){X.clip&&X.clip.parentNode.parentNode.removeChild(X.clip.parentNode);var b=dB("clipPath"),N=dB("rect");b.id=cI();dB(N,{x:g[0],y:g[1],width:g[2],height:g[3]});b[aP](N);X.paper.defs[aP](b);dB(U,{"clip-path":"url(#"+b.id+")"});X.clip=N}if(!O){var M=aW.getElementById(U.getAttribute("clip-path")[b9](/(^url\(#|\)$)/g,aJ));M&&M.parentNode.removeChild(M);dB(U,{"clip-path":aJ});delete X.clip}break;case"path":X.type=="path"&&dB(U,{d:O?T.path=b1(O):"M0,0"});break;case"width":U[cR](P,O);if(T.fx){P="x";O=T.x}else{break}case"x":T.fx&&(O=-T.x-(T.width||0));case"rx":if(P=="rx"&&X.type=="rect"){break}case"cx":Q&&(P=="x"||P=="cx")&&(Q[1]+=O-T[P]);U[cR](P,O);X.pattern&&dy(X);break;case"height":U[cR](P,O);if(T.fy){P="y";O=T.y}else{break}case"y":T.fy&&(O=-T.y-(T.height||0));case"ry":if(P=="ry"&&X.type=="rect"){break}case"cy":Q&&(P=="y"||P=="cy")&&(Q[2]+=O-T[P]);U[cR](P,O);X.pattern&&dy(X);break;case"r":X.type=="rect"?dB(U,{rx:O,ry:O}):U[cR](P,O);break;case"src":X.type=="image"&&U.setAttributeNS(X.paper.xlink,"href",O);break;case"stroke-width":U.style.strokeWidth=O;U[cR](P,O);T["stroke-dasharray"]&&R(X,T["stroke-dasharray"]);break;case"stroke-dasharray":R(X,O);break;case"translation":var L=aF(O)[aD](a6);L[0]=+L[0]||0;L[1]=+L[1]||0;if(Q){Q[1]+=L[0];Q[2]+=L[1]}aa.call(X,L[0],L[1]);break;case"scale":L=aF(O)[aD](a6);X.scale(+L[0]||1,+L[1]||+L[0]||1,isNaN(cP(L[2]))?null:+L[2],isNaN(cP(L[3]))?null:+L[3]);break;case c8:var I=aF(O).match(c4);if(I){b=dB("pattern");var w=dB("image");b.id=cI();dB(b,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});dB(w,{x:0,y:0});w.setAttributeNS(X.paper.xlink,"href",I[1]);b[aP](w);var s=aW.createElement("img");s.style.cssText="position:absolute;left:-9999em;top-9999em";s.onload=function(){dB(b,{width:this.offsetWidth,height:this.offsetHeight});dB(w,{width:this.offsetWidth,height:this.offsetHeight});aW.body.removeChild(this);X.paper.safari()};aW.body[aP](s);s.src=I[1];X.paper.defs[aP](b);U.style.fill="url(#"+b.id+")";dB(U,{fill:"url(#"+b.id+")"});X.pattern=b;X.pattern&&dy(X);break}var q=a8.getRGB(O);if(q.error){if((({circle:1,ellipse:1})[aY](X.type)||aF(O).charAt()!="r")&&dz(U,O,X.paper)){T.gradient=O;T.fill="none";break}else{delete W.gradient;delete T.gradient;!a8.is(T.opacity,"undefined")&&a8.is(W.opacity,"undefined")&&dB(U,{opacity:T.opacity});!a8.is(T["fill-opacity"],"undefined")&&a8.is(W["fill-opacity"],"undefined")&&dB(U,{"fill-opacity":T["fill-opacity"]})}}q[aY]("opacity")&&dB(U,{"fill-opacity":q.opacity>1?q.opacity/100:q.opacity});case"stroke":q=a8.getRGB(O);U[cR](P,q.hex);P=="stroke"&&q[aY]("opacity")&&dB(U,{"stroke-opacity":q.opacity>1?q.opacity/100:q.opacity});break;case"gradient":(({circle:1,ellipse:1})[aY](X.type)||aF(O).charAt()!="r")&&dz(U,O,X.paper);break;case"opacity":T.gradient&&!T[aY]("stroke-opacity")&&dB(U,{"stroke-opacity":O>1?O/100:O});case"fill-opacity":if(T.gradient){var l=aW.getElementById(U.getAttribute(c8)[b9](/^url\(#|\)$/g,aJ));if(l){var f=l.getElementsByTagName("stop");f[f[av]-1][cR]("stop-opacity",O)}break}default:P=="font-size"&&(O=cN(O,10)+"px");var a=P[b9](/(\-.)/g,function(c){return cJ.call(c.substring(1))});U.style[a]=O;U[cR](P,O);break}}}dv(X,W);Q?X.rotate(Q.join(aH)):cP(S)&&X.rotate(S,true)},dw=1.2,dv=function(x,w){if(x.type!="text"||!(w[aY]("text")||w[aY]("font")||w[aY]("font-size")||w[aY]("x")||w[aY]("y"))){return}var v=x.attrs,u=x.node,t=u.firstChild?cN(aW.defaultView.getComputedStyle(u.firstChild,aJ).getPropertyValue("font-size"),10):10;if(w[aY]("text")){v.text=w.text;while(u.firstChild){u.removeChild(u.firstChild)}var s=aF(w.text)[aD]("\n");for(var q=0,l=s[av];q<l;q++){if(s[q]){var g=dB("tspan");q&&dB(g,{dy:t*dw,x:v.x});g[aP](aW.createTextNode(s[q]));u[aP](g)}}}else{s=u.getElementsByTagName("tspan");for(q=0,l=s[av];q<l;q++){q&&dB(s[q],{dy:t*dw,x:v.x})}}dB(u,{y:v.y});var f=x.getBBox(),a=v.y-(f.y+f.height/2);a&&a8.is(a,"finite")&&dB(u,{y:v.y+a})},du=function(a,h){var g=0,f=0;this[0]=a;this.id=a8._oid++;this.node=a;a.raphael=this;this.paper=h;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!h.bottom&&(h.bottom=this);this.prev=h.top;h.top&&(h.top.next=this);h.top=this;this.next=null},dt=du[a0];du[a0].rotate=function(h,g,b){if(this.removed){return this}if(h==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][ax](aH)}return this._.rt.deg}var a=this.getBBox();h=aF(h)[aD](a6);if(h[av]-1){g=cP(h[1]);b=cP(h[2])}h=cP(h[0]);g!=null&&g!==false?this._.rt.deg=h:this._.rt.deg+=h;b==null&&(g=null);this._.rt.cx=g;this._.rt.cy=b;g=g==null?a.x+a.width/2:g;b=b==null?a.y+a.height/2:b;if(this._.rt.deg){this.transformations[0]=a8.format("rotate({0} {1} {2})",this._.rt.deg,g,b);this.clip&&dB(this.clip,{transform:a8.format("rotate({0} {1} {2})",-this._.rt.deg,g,b)})}else{this.transformations[0]=aJ;this.clip&&dB(this.clip,{transform:aJ})}dB(this.node,{transform:this.transformations[ax](aH)});return this};du[a0].hide=function(){!this.removed&&(this.node.style.display="none");return this};du[a0].show=function(){!this.removed&&(this.node.style.display="");return this};du[a0].remove=function(){if(this.removed){return}dH(this,this.paper);this.node.parentNode.removeChild(this.node);for(var b in this){delete this[b]}this.removed=true};du[a0].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return b4(this.attrs.path)}if(this.node.style.display=="none"){this.show();var g=true}var f={};try{f=this.node.getBBox()}catch(g){}finally{f=f||{}}if(this.type=="text"){f={x:f.x,y:Infinity,width:0,height:0};for(var k=0,j=this.node.getNumberOfChars();k<j;k++){var h=this.node.getExtentOfChar(k);h.y<f.y&&(f.y=h.y);h.y+h.height-f.y>f.height&&(f.height=h.y+h.height-f.y);h.x+h.width-f.x>f.width&&(f.width=h.x+h.width-f.x)}}g&&this.hide();return f};du[a0].attr=function(x,w){if(this.removed){return this}if(x==null){var v={};for(var u in this.attrs){this.attrs[aY](u)&&(v[u]=this.attrs[u])}this._.rt.deg&&(v.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(v.scale=this.scale());v.gradient&&v.fill=="none"&&(v.fill=v.gradient)&&delete v.gradient;return v}if(w==null&&a8.is(x,de)){if(x=="translation"){return aa.call(this)}if(x=="rotation"){return this.rotate()}if(x=="scale"){return this.scale()}if(x==c8&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[x]}if(w==null&&a8.is(x,dc)){var t={};for(var s=0,q=x.length;s<q;s++){t[x[s]]=this.attr(x[s])}return t}if(w!=null){var o={};o[x]=w}else{x!=null&&a8.is(x,"object")&&(o=x)}for(var n in this.paper.customAttributes){if(this.paper.customAttributes[aY](n)&&o[aY](n)&&a8.is(this.paper.customAttributes[n],"function")){var f=this.paper.customAttributes[n].apply(this,[][aN](o[n]));this.attrs[n]=o[n];for(var a in f){f[aY](a)&&(o[a]=f[a])}}}dx(this,o);return this};du[a0].toFront=function(){if(this.removed){return this}this.node.parentNode[aP](this.node);var b=this.paper;b.top!=this&&dG(this,b);return this};du[a0].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);dF(this,this.paper);var b=this.paper}return this};du[a0].insertAfter=function(e){if(this.removed){return this}var c=e.node||e[e.length-1].node;c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode[aP](this.node);dE(this,e,this.paper);return this};du[a0].insertBefore=function(e){if(this.removed){return this}var c=e.node||e[0].node;c.parentNode.insertBefore(this.node,c);dD(this,e,this.paper);return this};du[a0].blur=function(f){var e=this;if(+f!==0){var h=dB("filter"),g=dB("feGaussianBlur");e.attrs.blur=f;h.id=cI();dB(g,{stdDeviation:+f||1.5});h.appendChild(g);e.paper.defs.appendChild(h);e._blur=h;dB(e.node,{filter:"url(#"+h.id+")"})}else{if(e._blur){e._blur.parentNode.removeChild(e._blur);delete e._blur;delete e.attrs.blur}e.node.removeAttribute("filter")}};var ds=function(h,g,m,l){var k=dB("circle");h.canvas&&h.canvas[aP](k);var j=new du(k,h);j.attrs={cx:g,cy:m,r:l,fill:"none",stroke:"#000"};j.type="circle";dB(k,j.attrs);return j},dr=function(k,j,s,q,o,n){var m=dB("rect");k.canvas&&k.canvas[aP](m);var l=new du(m,k);l.attrs={x:j,y:s,width:q,height:o,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"};l.type="rect";dB(m,l.attrs);return l},dq=function(j,h,o,n,m){var l=dB("ellipse");j.canvas&&j.canvas[aP](l);var k=new du(l,j);k.attrs={cx:h,cy:o,rx:n,ry:m,fill:"none",stroke:"#000"};k.type="ellipse";dB(l,k.attrs);return k},dn=function(k,j,s,q,o,n){var m=dB("image");dB(m,{x:s,y:q,width:o,height:n,preserveAspectRatio:"none"});m.setAttributeNS(k.xlink,"href",j);k.canvas&&k.canvas[aP](m);var l=new du(m,k);l.attrs={x:s,y:q,width:o,height:n,src:j};l.type="image";return l},dl=function(h,g,m,l){var k=dB("text");dB(k,{x:g,y:m,"text-anchor":"middle"});h.canvas&&h.canvas[aP](k);var j=new du(k,h);j.attrs={x:g,y:m,"text-anchor":"middle",text:l,font:cH.font,stroke:"none",fill:"#000"};j.type="text";dx(j,j.attrs);return j},dj=function(e,c){this.width=e||this.width;this.height=c||this.height;this.canvas[cR]("width",this.width);this.canvas[cR]("height",this.height);return this},dh=function(){var a=aV[aO](0,arguments),n=a&&a.container,m=a.x,l=a.y,k=a.width,j=a.height;if(!n){throw new Error("SVG container not found.")}var g=dB("svg");m=m||0;l=l||0;k=k||512;j=j||342;dB(g,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:k,height:j});if(n==1){g.style.cssText="position:absolute;left:"+m+"px;top:"+l+"px";aW.body[aP](g)}else{n.firstChild?n.insertBefore(g,n.firstChild):n[aP](g)}n=new aR;n.width=k;n.height=j;n.canvas=g;aT.call(n,n,a8.fn);n.clear();return n};aQ.clear=function(){var b=this.canvas;while(b.firstChild){b.removeChild(b.firstChild)}this.bottom=this.top=null;(this.desc=dB("desc"))[aP](aW.createTextNode("Created with Rapha??l"));b[aP](this.desc);b[aP](this.defs=dB("defs"))};aQ.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=dC(b)}}}if(a8.vml){var df={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},dd=/([clmz]),?([^clmz]*)/gi,db=/ progid:\S+Blur\([^\)]+\)/g,c9=/-?[^,\s-]+/g,dJ=1000+aH+1000,c3=10,aM={path:1,rect:1},aK=function(x){var w=/[ahqstv]/ig,v=b1;aF(x).match(w)&&(v=aZ);w=/[clmz]/g;if(v==b1&&!aF(x).match(w)){var u=aF(x)[b9](dd,function(h,g,z){var y=[],k=at.call(g)=="m",j=df[g];z[b9](c9,function(b){if(k&&y[av]==2){j+=y+df[g=="m"?"l":"L"];y=[]}y[c5](cU(b*c3))});return j+y});return u}var t=v(x),s,q;u=[];for(var o=0,n=t[av];o<n;o++){s=t[o];q=at.call(t[o][0]);q=="z"&&(q="x");for(var m=1,l=s[av];m<l;m++){q+=cU(s[m]*c3)+(m!=l-1?",":aJ)}u[c5](q)}return u[ax](aH)};a8[da]=function(){return"Your browser doesn???t support SVG. Falling down to VML.\nYou are running Rapha??l "+this.version};dA=function(j,h){var o=aG("group");o.style.cssText="position:absolute;left:0;top:0;width:"+h.width+"px;height:"+h.height+"px";o.coordsize=h.coordsize;o.coordorigin=h.coordorigin;var n=aG("shape"),m=n.style;m.width=h.width+"px";m.height=h.height+"px";n.coordsize=dJ;n.coordorigin=h.coordorigin;o[aP](n);var l=new du(n,o,h),k={fill:"none",stroke:"#000"};j&&(k.path=j);l.type="path";l.path=[];l.Path=aJ;dx(l,k);h.canvas[aP](o);return l};dx=function(T,S){T.attrs=T.attrs||{};var R=T.node,Q=T.attrs,P=R.style,O,N=(S.x!=Q.x||S.y!=Q.y||S.width!=Q.width||S.height!=Q.height||S.r!=Q.r)&&T.type=="rect",M=T;for(var L in S){S[aY](L)&&(Q[L]=S[L])}if(N){Q.path=aI(Q.x,Q.y,Q.width,Q.height,Q.r);T.X=Q.x;T.Y=Q.y;T.W=Q.width;T.H=Q.height}S.href&&(R.href=S.href);S.title&&(R.title=S.title);S.target&&(R.target=S.target);S.cursor&&(P.cursor=S.cursor);"blur" in S&&T.blur(S.blur);if(S.path&&T.type=="path"||N){R.path=aK(Q.path)}S.rotation!=null&&T.rotate(S.rotation,true);if(S.translation){O=aF(S.translation)[aD](a6);aa.call(T,O[0],O[1]);if(T._.rt.cx!=null){T._.rt.cx+=+O[0];T._.rt.cy+=+O[1];T.setBox(T.attrs,O[0],O[1])}}if(S.scale){O=aF(S.scale)[aD](a6);T.scale(+O[0]||1,+O[1]||+O[0]||1,+O[2]||null,+O[3]||null)}if("clip-rect" in S){var K=aF(S["clip-rect"])[aD](a6);if(K[av]==4){K[2]=+K[2]+ +K[0];K[3]=+K[3]+ +K[1];var J=R.clipRect||aW.createElement("div"),z=J.style,s=R.parentNode;z.clip=a8.format("rect({1}px {2}px {3}px {0}px)",K);if(!R.clipRect){z.position="absolute";z.top=0;z.left=0;z.width=T.paper.width+"px";z.height=T.paper.height+"px";s.parentNode.insertBefore(J,s);J[aP](s);R.clipRect=J}}S["clip-rect"]||R.clipRect&&(R.clipRect.style.clip=aJ)}T.type=="image"&&S.src&&(R.src=S.src);if(T.type=="image"&&S.opacity){R.filterOpacity=cL+".Alpha(opacity="+S.opacity*100+")";P.filter=(R.filterMatrix||aJ)+(R.filterOpacity||aJ)}S.font&&(P.font=S.font);S["font-family"]&&(P.fontFamily='"'+S["font-family"][aD](",")[0][b9](/^['"]+|['"]+$/g,aJ)+'"');S["font-size"]&&(P.fontSize=S["font-size"]);S["font-weight"]&&(P.fontWeight=S["font-weight"]);S["font-style"]&&(P.fontStyle=S["font-style"]);if(S.opacity!=null||S["stroke-width"]!=null||S.fill!=null||S.stroke!=null||S["stroke-width"]!=null||S["stroke-opacity"]!=null||S["fill-opacity"]!=null||S["stroke-dasharray"]!=null||S["stroke-miterlimit"]!=null||S["stroke-linejoin"]!=null||S["stroke-linecap"]!=null){R=T.shape||R;var g=R.getElementsByTagName(c8)&&R.getElementsByTagName(c8)[0],b=false;!g&&(b=g=aG(c8));if("fill-opacity" in S||"opacity" in S){var a=((+Q["fill-opacity"]+1||2)-1)*((+Q.opacity+1||2)-1)*((+a8.getRGB(S.fill).o+1||2)-1);a=dp(ao(a,0),1);g.opacity=a}S.fill&&(g.on=true);if(g.on==null||S.fill=="none"){g.on=false}if(g.on&&S.fill){var I=S.fill.match(c4);if(I){g.src=I[1];g.type="tile"}else{g.color=a8.getRGB(S.fill).hex;g.src=aJ;g.type="solid";if(a8.getRGB(S.fill).error&&(M.type in {circle:1,ellipse:1}||aF(S.fill).charAt()!="r")&&dz(M,S.fill)){Q.fill="none";Q.gradient=S.fill}}}b&&R[aP](g);var H=R.getElementsByTagName("stroke")&&R.getElementsByTagName("stroke")[0],A=false;!H&&(A=H=aG("stroke"));if(S.stroke&&S.stroke!="none"||S["stroke-width"]||S["stroke-opacity"]!=null||S["stroke-dasharray"]||S["stroke-miterlimit"]||S["stroke-linejoin"]||S["stroke-linecap"]){H.on=true}(S.stroke=="none"||H.on==null||S.stroke==0||S["stroke-width"]==0)&&(H.on=false);var w=a8.getRGB(S.stroke);H.on&&S.stroke&&(H.color=w.hex);a=((+Q["stroke-opacity"]+1||2)-1)*((+Q.opacity+1||2)-1)*((+w.o+1||2)-1);var l=(cP(S["stroke-width"])||1)*0.75;a=dp(ao(a,0),1);S["stroke-width"]==null&&(l=Q["stroke-width"]);S["stroke-width"]&&(H.weight=l);l&&l<1&&(a*=l)&&(H.weight=1);H.opacity=a;S["stroke-linejoin"]&&(H.joinstyle=S["stroke-linejoin"]||"miter");H.miterlimit=S["stroke-miterlimit"]||8;S["stroke-linecap"]&&(H.endcap=S["stroke-linecap"]=="butt"?"flat":S["stroke-linecap"]=="square"?"square":"round");if(S["stroke-dasharray"]){var f={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=f[aY](S["stroke-dasharray"])?f[S["stroke-dasharray"]]:aJ}A&&R[aP](H)}if(M.type=="text"){P=M.paper.span.style;Q.font&&(P.font=Q.font);Q["font-family"]&&(P.fontFamily=Q["font-family"]);Q["font-size"]&&(P.fontSize=Q["font-size"]);Q["font-weight"]&&(P.fontWeight=Q["font-weight"]);Q["font-style"]&&(P.fontStyle=Q["font-style"]);M.node.string&&(M.paper.span.innerHTML=aF(M.node.string)[b9](/</g,"&#60;")[b9](/&/g,"&#38;")[b9](/\n/g,"<br>"));M.W=Q.w=M.paper.span.offsetWidth;M.H=Q.h=M.paper.span.offsetHeight;M.X=Q.x;M.Y=Q.y+cU(M.H/2);switch(Q["text-anchor"]){case"start":M.node.style["v-text-align"]="left";M.bbx=cU(M.W/2);break;case"end":M.node.style["v-text-align"]="right";M.bbx=-cU(M.W/2);break;default:M.node.style["v-text-align"]="center";break}}};dz=function(x,w){x.attrs=x.attrs||{};var v=x.attrs,u,t="linear",s=".5 .5";x.attrs.gradient=w;w=aF(w)[b9](cQ,function(f,e,g){t="radial";if(e&&g){e=cP(e);g=cP(g);dk(e-0.5,2)+dk(g-0.5,2)>0.25&&(g=aq.sqrt(0.25-dk(e-0.5,2))*((g>0.5)*2-1)+0.5);s=e+aH+g}return aJ});w=w[aD](/\s*\-\s*/);if(t=="linear"){var q=w.shift();q=-cP(q);if(isNaN(q)){return null}}var o=aX(w);if(!o){return null}x=x.shape||x.node;u=x.getElementsByTagName(c8)[0]||aG(c8);!u.parentNode&&x.appendChild(u);if(o[av]){u.on=true;u.method="none";u.color=o[0].color;u.color2=o[o[av]-1].color;var n=[];for(var m=0,l=o[av];m<l;m++){o[m].offset&&n[c5](o[m].offset+aH+o[m].color)}u.colors&&(u.colors.value=n[av]?n[ax]():"0% "+u.color);if(t=="radial"){u.type="gradientradial";u.focus="100%";u.focussize=s;u.focusposition=s}else{u.type="gradient";u.angle=(270-q)%360}}return 1};du=function(a,o,n){var m=0,l=0,k=0,j=1;this[0]=a;this.id=a8._oid++;this.node=a;a.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=o;this.paper=n;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!n.bottom&&(n.bottom=this);this.prev=n.top;n.top&&(n.top.next=this);n.top=this;this.next=null};dt=du[a0];dt.rotate=function(b,f,e){if(this.removed){return this}if(b==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][ax](aH)}return this._.rt.deg}b=aF(b)[aD](a6);if(b[av]-1){f=cP(b[1]);e=cP(b[2])}b=cP(b[0]);f!=null?this._.rt.deg=b:this._.rt.deg+=b;e==null&&(f=null);this._.rt.cx=f;this._.rt.cy=e;this.setBox(this.attrs,f,e);this.Group.style.rotation=this._.rt.deg;return this};dt.setBox=function(F,E,D){if(this.removed){return this}var C=this.Group.style,B=this.shape&&this.shape.style||this.node.style;F=F||{};for(var A in F){F[aY](A)&&(this.attrs[A]=F[A])}E=E||this._.rt.cx;D=D||this._.rt.cy;var z=this.attrs,y,x,w,v;switch(this.type){case"circle":y=z.cx-z.r;x=z.cy-z.r;w=v=z.r*2;break;case"ellipse":y=z.cx-z.rx;x=z.cy-z.ry;w=z.rx*2;v=z.ry*2;break;case"image":y=+z.x;x=+z.y;w=z.width||0;v=z.height||0;break;case"text":this.textpath.v=["m",cU(z.x),", ",cU(z.y-2),"l",cU(z.x)+1,", ",cU(z.y-2)][ax](aJ);y=z.x-cU(this.W/2);x=z.y-this.H/2;w=this.W;v=this.H;break;case"rect":case"path":if(this.attrs.path){var u=b4(this.attrs.path);y=u.x;x=u.y;w=u.width;v=u.height}else{y=0;x=0;w=this.paper.width;v=this.paper.height}break;default:y=0;x=0;w=this.paper.width;v=this.paper.height;break}E=E==null?y+w/2:E;D=D==null?x+v/2:D;var t=E-this.paper.width/2,s=D-this.paper.height/2,f;C.left!=(f=t+"px")&&(C.left=f);C.top!=(f=s+"px")&&(C.top=f);this.X=aM[aY](this.type)?-t:y;this.Y=aM[aY](this.type)?-s:x;this.W=w;this.H=v;if(aM[aY](this.type)){B.left!=(f=-t*c3+"px")&&(B.left=f);B.top!=(f=-s*c3+"px")&&(B.top=f)}else{if(this.type=="text"){B.left!=(f=-t+"px")&&(B.left=f);B.top!=(f=-s+"px")&&(B.top=f)}else{C.width!=(f=this.paper.width+"px")&&(C.width=f);C.height!=(f=this.paper.height+"px")&&(C.height=f);B.left!=(f=y-t+"px")&&(B.left=f);B.top!=(f=x-s+"px")&&(B.top=f);B.width!=(f=w+"px")&&(B.width=f);B.height!=(f=v+"px")&&(B.height=f)}}};dt.hide=function(){!this.removed&&(this.Group.style.display="none");return this};dt.show=function(){!this.removed&&(this.Group.style.display="block");return this};dt.getBBox=function(){if(this.removed){return this}if(aM[aY](this.type)){return b4(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};dt.remove=function(){if(this.removed){return}dH(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this){delete this[b]}this.removed=true};dt.attr=function(v,u){if(this.removed){return this}if(v==null){var t={};for(var s in this.attrs){this.attrs[aY](s)&&(t[s]=this.attrs[s])}this._.rt.deg&&(t.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(t.scale=this.scale());t.gradient&&t.fill=="none"&&(t.fill=t.gradient)&&delete t.gradient;return t}if(u==null&&a8.is(v,"string")){if(v=="translation"){return aa.call(this)}if(v=="rotation"){return this.rotate()}if(v=="scale"){return this.scale()}if(v==c8&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[v]}if(this.attrs&&u==null&&a8.is(v,dc)){var q,o={};for(s=0,q=v[av];s<q;s++){o[v[s]]=this.attr(v[s])}return o}var n;if(u!=null){n={};n[v]=u}u==null&&a8.is(v,"object")&&(n=v);if(n){for(var m in this.paper.customAttributes){if(this.paper.customAttributes[aY](m)&&n[aY](m)&&a8.is(this.paper.customAttributes[m],"function")){var f=this.paper.customAttributes[m].apply(this,[][aN](n[m]));this.attrs[m]=n[m];for(var a in f){f[aY](a)&&(n[a]=f[a])}}}n.text&&this.type=="text"&&(this.node.string=n.text);dx(this,n);n.gradient&&(({circle:1,ellipse:1})[aY](this.type)||aF(n.gradient).charAt()!="r")&&dz(this,n.gradient);(!aM[aY](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};dt.toFront=function(){!this.removed&&this.Group.parentNode[aP](this.Group);this.paper.top!=this&&dG(this,this.paper);return this};dt.toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);dF(this,this.paper)}return this};dt.insertAfter=function(b){if(this.removed){return this}b.constructor==cV&&(b=b[b.length-1]);b.Group.nextSibling?b.Group.parentNode.insertBefore(this.Group,b.Group.nextSibling):b.Group.parentNode[aP](this.Group);dE(this,b,this.paper);return this};dt.insertBefore=function(b){if(this.removed){return this}b.constructor==cV&&(b=b[0]);b.Group.parentNode.insertBefore(this.Group,b.Group);dD(this,b,this.paper);return this};dt.blur=function(a){var f=this.node.runtimeStyle,e=f.filter;e=e.replace(db,aJ);if(+a!==0){this.attrs.blur=a;f.filter=e+aH+cL+".Blur(pixelradius="+(+a||1.5)+")";f.margin=a8.format("-{0}px 0 0 -{0}px",cU(+a||1.5))}else{f.filter=e;f.margin=0;delete this.attrs.blur}};ds=function(k,j,s,q){var o=aG("group"),n=aG("oval"),m=n.style;o.style.cssText="position:absolute;left:0;top:0;width:"+k.width+"px;height:"+k.height+"px";o.coordsize=dJ;o.coordorigin=k.coordorigin;o[aP](n);var l=new du(n,o,k);l.type="circle";dx(l,{stroke:"#000",fill:"none"});l.attrs.cx=j;l.attrs.cy=s;l.attrs.r=q;l.setBox({x:j-q,y:s-q,width:q*2,height:q*2});k.canvas[aP](o);return l};function aI(a,k,j,h,g){return g?a8.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+g,k,j-g*2,g,-g,h-g*2,g*2-j,g*2-h):a8.format("M{0},{1}l{2},0,0,{3},{4},0z",a,k,j,h,-j)}dr=function(t,s,q,o,n,m){var l=aI(s,q,o,n,m),k=t.path(l),j=k.attrs;k.X=j.x=s;k.Y=j.y=q;k.W=j.width=o;k.H=j.height=n;j.r=m;j.path=l;k.type="rect";return k};dq=function(t,s,q,o,n){var m=aG("group"),l=aG("oval"),k=l.style;m.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px";m.coordsize=dJ;m.coordorigin=t.coordorigin;m[aP](l);var j=new du(l,m,t);j.type="ellipse";dx(j,{stroke:"#000"});j.attrs.cx=s;j.attrs.cy=q;j.attrs.rx=o;j.attrs.ry=n;j.setBox({x:s-o,y:q-n,width:o*2,height:n*2});t.canvas[aP](m);return j};dn=function(t,s,q,o,n,m){var l=aG("group"),k=aG("image");l.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px";l.coordsize=dJ;l.coordorigin=t.coordorigin;k.src=s;l[aP](k);var j=new du(k,l,t);j.type="image";j.attrs.src=s;j.attrs.x=q;j.attrs.y=o;j.attrs.w=n;j.attrs.h=m;j.setBox({x:q,y:o,width:n,height:m});t.canvas[aP](l);return j};dl=function(x,w,v,u){var t=aG("group"),s=aG("shape"),q=s.style,o=aG("path"),n=o.style,l=aG("textpath");t.style.cssText="position:absolute;left:0;top:0;width:"+x.width+"px;height:"+x.height+"px";t.coordsize=dJ;t.coordorigin=x.coordorigin;o.v=a8.format("m{0},{1}l{2},{1}",cU(w*10),cU(v*10),cU(w*10)+1);o.textpathok=true;q.width=x.width;q.height=x.height;l.string=aF(u);l.on=true;s[aP](l);s[aP](o);t[aP](s);var a=new du(l,t,x);a.shape=s;a.textpath=o;a.type="text";a.attrs.text=u;a.attrs.x=w;a.attrs.y=v;a.attrs.w=1;a.attrs.h=1;dx(a,{font:cH.font,stroke:"none",fill:"#000"});a.setBox();x.canvas[aP](t);return a};dj=function(f,e){var g=this.canvas.style;f==+f&&(f+="px");e==+e&&(e+="px");g.width=f;g.height=e;g.clip="rect(0 "+f+" "+e+" 0)";return this};var aG;aW.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!aW.namespaces.rvml&&aW.namespaces.add("rvml","urn:schemas-microsoft-com:vml");aG=function(b){return aW.createElement("<rvml:"+b+' class="rvml">')}}catch(a8){aG=function(b){return aW.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}dh=function(){var v=aV[aO](0,arguments),u=v.container,t=v.height,s,q=v.width,m=v.x,l=v.y;if(!u){throw new Error("VML container not found.")}var j=new aR,g=j.canvas=aW.createElement("div"),a=g.style;m=m||0;l=l||0;q=q||512;t=t||342;q==+q&&(q+="px");t==+t&&(t+="px");j.width=1000;j.height=1000;j.coordsize=c3*1000+aH+c3*1000;j.coordorigin="0 0";j.span=aW.createElement("span");j.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";g[aP](j.span);a.cssText=a8.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",q,t);if(u==1){aW.body[aP](g);a.left=m+"px";a.top=l+"px";a.position="absolute"}else{u.firstChild?u.insertBefore(g,u.firstChild):u[aP](g)}aT.call(j,j,a8.fn);return j};aQ.clear=function(){this.canvas.innerHTML=aJ;this.span=aW.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[aP](this.span);this.bottom=this.top=null};aQ.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=dC(b)}return true}}var aE=navigator.userAgent.match(/Version\\x2f(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(aE&&aE[1]<4||navigator.platform.slice(0,2)=="iP")?aQ.safari=function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});aU.setTimeout(function(){b.remove()})}:aQ.safari=function(){};var aC=function(){this.returnValue=false},aA=function(){return this.originalEvent.preventDefault()},ay=function(){this.cancelBubble=true},aw=function(){return this.originalEvent.stopPropagation()},au=(function(){if(aW.addEventListener){return function(h,f,m,l){var k=aL&&az[f]?az[f]:f,j=function(n){if(aL&&az[aY](f)){for(var c=0,b=n.targetTouches&&n.targetTouches.length;c<b;c++){if(n.targetTouches[c].target==h){var a=n;n=n.targetTouches[c];n.originalEvent=a;n.preventDefault=aA;n.stopPropagation=aw;break}}}return m.call(l,n)};h.addEventListener(k,j,false);return function(){h.removeEventListener(k,j,false);return true}}}if(aW.attachEvent){return function(h,g,m,l){var k=function(b){b=b||aU.event;b.preventDefault=b.preventDefault||aC;b.stopPropagation=b.stopPropagation||ay;return m.call(l,b)};h.attachEvent("on"+g,k);var j=function(){h.detachEvent("on"+g,k);return true};return j}}})(),ar=[],ap=function(t){var s=t.clientX,q=t.clientY,o=aW.documentElement.scrollTop||aW.body.scrollTop,n=aW.documentElement.scrollLeft||aW.body.scrollLeft,m,l=ar.length;while(l--){m=ar[l];if(aL){var k=t.touches.length,g;while(k--){g=t.touches[k];if(g.identifier==m.el._drag.id){s=g.clientX;q=g.clientY;(t.originalEvent?t.originalEvent:t).preventDefault();break}}}else{t.preventDefault()}s+=n;q+=o;m.move&&m.move.call(m.move_scope||m.el,s-m.el._drag.x,q-m.el._drag.y,s,q,t)}},an=function(a){a8.unmousemove(ap).unmouseup(an);var f=ar.length,e;while(f--){e=ar[f];e.el._drag={};e.end&&e.end.call(e.end_scope||e.start_scope||e.move_scope||e.el,a)}ar=[]};for(var am=aB[av];am--;){(function(a){a8[a]=du[a0][a]=function(e,b){if(a8.is(e,"function")){this.events=this.events||[];this.events.push({name:a,f:e,unbind:au(this.shape||this.node||aW,a,e,b||this)})}return this};a8["un"+a]=du[a0]["un"+a]=function(b){var f=this.events,e=f[av];while(e--){if(f[e].name==a&&f[e].f==b){f[e].unbind();f.splice(e,1);!f.length&&delete this.events;return this}}return this}})(aB[am])}dt.hover=function(f,e,h,g){return this.mouseover(f,h).mouseout(e,g||h)};dt.unhover=function(e,c){return this.unmouseover(e).unmouseout(c)};dt.drag=function(a,m,l,k,j,g){this._drag={};this.mousedown(function(e){(e.originalEvent||e).preventDefault();var c=aW.documentElement.scrollTop||aW.body.scrollTop,b=aW.documentElement.scrollLeft||aW.body.scrollLeft;this._drag.x=e.clientX+b;this._drag.y=e.clientY+c;this._drag.id=e.identifier;m&&m.call(j||k||this,e.clientX+b,e.clientY+c,e);!ar.length&&a8.mousemove(ap).mouseup(an);ar.push({el:this,move:a,end:l,move_scope:k,start_scope:j,end_scope:g})});return this};dt.undrag=function(a,h,g){var f=ar.length;while(f--){ar[f].el==this&&(ar[f].move==a&&ar[f].end==g)&&ar.splice(f++,1)}!ar.length&&a8.unmousemove(ap).unmouseup(an)};aQ.circle=function(f,e,g){return ds(this,f||0,e||0,g||0)};aQ.rect=function(g,f,k,j,h){return dr(this,g||0,f||0,k||0,j||0,h||0)};aQ.ellipse=function(f,e,h,g){return dq(this,f||0,e||0,h||0,g||0)};aQ.path=function(a){a&&!a8.is(a,de)&&!a8.is(a[0],dc)&&(a+=aJ);return dA(a8.format[aO](a8,arguments),this)};aQ.image=function(g,f,k,j,h){return dn(this,g||"about:blank",f||0,k||0,j||0,h||0)};aQ.text=function(f,e,g){return dl(this,f||0,e||0,aF(g))};aQ.set=function(b){arguments[av]>1&&(b=Array[a0].splice.call(arguments,0,arguments[av]));return new cV(b)};aQ.setSize=dj;aQ.top=aQ.bottom=null;aQ.raphael=a8;function al(){return this.x+aH+this.y}dt.resetScale=function(){if(this.removed){return this}this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};dt.scale=function(bw,bv,bu,bt){if(this.removed){return this}if(bw==null&&bv==null){return{x:this._.sx,y:this._.sy,toString:al}}bv=bv||bw;!(+bv)&&(bv=bw);var bs,br,bq,bp,bo=this.attrs;if(bw!=0){var bn=this.getBBox(),bm=bn.x+bn.width/2,bl=bn.y+bn.height/2,bk=dm(bw/this._.sx),bj=dm(bv/this._.sy);bu=+bu||bu==0?bu:bm;bt=+bt||bt==0?bt:bl;var bi=this._.sx>0,bh=this._.sy>0,bg=~(~(bw/dm(bw))),bf=~(~(bv/dm(bv))),be=bk*bg,bd=bj*bf,bc=this.node.style,bb=bu+dm(bm-bu)*be*(bm>bu==bi?1:-1),ba=bt+dm(bl-bt)*bd*(bl>bt==bh?1:-1),Z=bw*bg>bv*bf?bj:bk;switch(this.type){case"rect":case"image":var Y=bo.width*bk,X=bo.height*bj;this.attr({height:X,r:bo.r*Z,width:Y,x:bb-Y/2,y:ba-X/2});break;case"circle":case"ellipse":this.attr({rx:bo.rx*bk,ry:bo.ry*bj,r:bo.r*Z,cx:bb,cy:ba});break;case"text":this.attr({x:bb,y:ba});break;case"path":var W=b2(bo.path),V=true,U=bi?be:bk,T=bh?bd:bj;for(var S=0,R=W[av];S<R;S++){var B=W[S],w=cJ.call(B[0]);if(w=="M"&&V){continue}V=false;if(w=="A"){B[W[S][av]-2]*=U;B[W[S][av]-1]*=T;B[1]*=bk;B[2]*=bj;B[5]=+(bg+bf?!(!(+B[5])):!(+B[5]))}else{if(w=="H"){for(var v=1,q=B[av];v<q;v++){B[v]*=U}}else{if(w=="V"){for(v=1,q=B[av];v<q;v++){B[v]*=T}}else{for(v=1,q=B[av];v<q;v++){B[v]*=v%2?U:T}}}}}var n=b4(W);bs=bb-n.x-n.width/2;br=ba-n.y-n.height/2;W[0][1]+=bs;W[0][2]+=br;this.attr({path:W});break}if(this.type in {text:1,image:1}&&(bg!=1||bf!=1)){if(this.transformations){this.transformations[2]="scale("[aN](bg,",",bf,")");this.node[cR]("transform",this.transformations[ax](aH));bs=bg==-1?-bo.x-(Y||0):bo.x;br=bf==-1?-bo.y-(X||0):bo.y;this.attr({x:bs,y:br});bo.fx=bg-1;bo.fy=bf-1}else{this.node.filterMatrix=cL+".Matrix(M11="[aN](bg,", M12=0, M21=0, M22=",bf,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");bc.filter=(this.node.filterMatrix||aJ)+(this.node.filterOpacity||aJ)}}else{if(this.transformations){this.transformations[2]=aJ;this.node[cR]("transform",this.transformations[ax](aH));bo.fx=0;bo.fy=0}else{this.node.filterMatrix=aJ;bc.filter=(this.node.filterMatrix||aJ)+(this.node.filterOpacity||aJ)}}bo.scale=[bw,bv,bu,bt][ax](aH);this._.sx=bw;this._.sy=bv}return this};dt.clone=function(){if(this.removed){return null}var b=this.attr();delete b.scale;delete b.translation;return this.paper[this.type]().attr(b)};var ak={},aj=function(H,G,F,E,D,C,B,A,z){var y=0,x=100,w=[H,G,F,E,D,C,B,A].join(),v=ak[w],u,t;!v&&(ak[w]=v={data:[]});v.timer&&clearTimeout(v.timer);v.timer=setTimeout(function(){delete ak[w]},2000);if(z!=null){var s=aj(H,G,F,E,D,C,B,A);x=~(~s)*10}for(var a=0;a<x+1;a++){if(v.data[z]>a){t=v.data[a*x]}else{t=a8.findDotsAtSegment(H,G,F,E,D,C,B,A,a/x);v.data[a]=t}a&&(y+=dk(dk(u.x-t.x,2)+dk(u.y-t.y,2),0.5));if(z!=null&&y>=z){return t}u=t}if(z==null){return y}},ai=function(a,e){return function(B,A,z){B=aZ(B);var y,x,w,v,u="",t={},s,q=0;for(var c=0,b=B.length;c<b;c++){w=B[c];if(w[0]=="M"){y=+w[1];x=+w[2]}else{v=aj(y,x,w[1],w[2],w[3],w[4],w[5],w[6]);if(q+v>A){if(e&&!t.start){s=aj(y,x,w[1],w[2],w[3],w[4],w[5],w[6],A-q);u+=["C",s.start.x,s.start.y,s.m.x,s.m.y,s.x,s.y];if(z){return u}t.start=u;u=["M",s.x,s.y+"C",s.n.x,s.n.y,s.end.x,s.end.y,w[5],w[6]][ax]();q+=v;y=+w[5];x=+w[6];continue}if(!a&&!e){s=aj(y,x,w[1],w[2],w[3],w[4],w[5],w[6],A-q);return{x:s.x,y:s.y,alpha:s.alpha}}}q+=v;y=+w[5];x=+w[6]}u+=w}t.end=u;s=a?q:e?t:a8.findDotsAtSegment(y,x,w[1],w[2],w[3],w[4],w[5],w[6],1);s.alpha&&(s={x:s.x,y:s.y,alpha:s.alpha});return s}},ah=ai(1),ag=ai(),af=ai(0,1);dt.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return ah(this.attrs.path)};dt.getPointAtLength=function(b){if(this.type!="path"){return}return ag(this.attrs.path,b)};dt.getSubpath=function(f,e){if(this.type!="path"){return}if(dm(this.getTotalLength()-e)<"1e-6"){return af(this.attrs.path,f).end}var g=af(this.attrs.path,e,1);return f?af(g,f).end:g};a8.easing_formulas={linear:function(b){return b},"<":function(b){return dk(b,3)},">":function(b){return dk(b-1,3)+1},"<>":function(b){b=b*2;if(b<1){return dk(b,3)/2}b-=2;return(dk(b,3)+2)/2},backIn:function(e){var c=1.70158;return e*e*((c+1)*e-c)},backOut:function(e){e=e-1;var c=1.70158;return e*e*((c+1)*e+c)+1},elastic:function(f){if(f==0||f==1){return f}var e=0.3,g=e/4;return dk(2,-10*f)*aq.sin((f-g)*(2*di)/e)+1},bounce:function(f){var e=7.5625,h=2.75,g;if(f<1/h){g=e*f*f}else{if(f<2/h){f-=1.5/h;g=e*f*f+0.75}else{if(f<2.5/h){f-=2.25/h;g=e*f*f+0.9375}else{f-=2.625/h;g=e*f*f+0.984375}}}return g}};var ae=[],ad=function(){var U=+(new Date);for(var T=0;T<ae[av];T++){var S=ae[T];if(S.stop||S.el.removed){continue}var R=U-S.start,Q=S.ms,P=S.easing,O=S.from,N=S.diff,M=S.to,L=S.t,K=S.el,J={},I;if(R<Q){var F=P(R/Q);for(var D in O){if(O[aY](D)){switch(cF[D]){case"along":I=F*Q*N[D];M.back&&(I=M.len-I);var w=ag(M[D],I);K.translate(N.sx-N.x||0,N.sy-N.y||0);N.x=w.x;N.y=w.y;K.translate(w.x-N.sx,w.y-N.sy);M.rot&&K.rotate(N.r+w.alpha,w.x,w.y);break;case dg:I=+O[D]+F*Q*N[D];break;case"colour":I="rgb("+[ab(cU(O[D].r+F*Q*N[D].r)),ab(cU(O[D].g+F*Q*N[D].g)),ab(cU(O[D].b+F*Q*N[D].b))][ax](",")+")";break;case"path":I=[];for(var v=0,q=O[D][av];v<q;v++){I[v]=[O[D][v][0]];for(var f=1,a=O[D][v][av];f<a;f++){I[v][f]=+O[D][v][f]+F*Q*N[D][v][f]}I[v]=I[v][ax](aH)}I=I[ax](aH);break;case"csv":switch(D){case"translation":var H=F*Q*N[D][0]-L.x,G=F*Q*N[D][1]-L.y;L.x+=H;L.y+=G;I=H+aH+G;break;case"rotation":I=+O[D][0]+F*Q*N[D][0];O[D][1]&&(I+=","+O[D][1]+","+O[D][2]);break;case"scale":I=[+O[D][0]+F*Q*N[D][0],+O[D][1]+F*Q*N[D][1],2 in M[D]?M[D][2]:aJ,3 in M[D]?M[D][3]:aJ][ax](aH);break;case"clip-rect":I=[];v=4;while(v--){I[v]=+O[D][v]+F*Q*N[D][v]}break}break;default:var E=[].concat(O[D]);I=[];v=K.paper.customAttributes[D].length;while(v--){I[v]=+E[v]+F*Q*N[D][v]}break}J[D]=I}}K.attr(J);K._run&&K._run.call(K)}else{if(M.along){w=ag(M.along,M.len*!M.back);K.translate(N.sx-(N.x||0)+w.x-N.sx,N.sy-(N.y||0)+w.y-N.sy);M.rot&&K.rotate(N.r+w.alpha,w.x,w.y)}(L.x||L.y)&&K.translate(-L.x,-L.y);M.scale&&(M.scale+=aJ);K.attr(M);ae.splice(T--,1)}}a8.svg&&K&&K.paper&&K.paper.safari();ae[av]&&setTimeout(ad)},ac=function(a,m,l,k,j){var h=l-k;m.timeouts.push(setTimeout(function(){a8.is(j,"function")&&j.call(m);m.animate(a,h,a.easing)},k))},ab=function(b){return ao(dp(b,255),0)},aa=function(f,e){if(f==null){return{x:this._.tx,y:this._.ty,toString:al}}this._.tx+=+f;this._.ty+=+e;switch(this.type){case"circle":case"ellipse":this.attr({cx:+f+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+f+this.attrs.x,y:+e+this.attrs.y});break;case"path":var g=b2(this.attrs.path);g[0][1]+=+f;g[0][2]+=+e;this.attr({path:g});break}return this};dt.animateWith=function(j,h,o,n,m){for(var l=0,k=ae.length;l<k;l++){ae[l].el.id==j.id&&(h.start=ae[l].start)}return this.animate(h,o,n,m)};dt.animateAlong=c1();dt.animateAlongBack=c1(1);function c1(a){return function(l,k,j,h){var b={back:a};a8.is(j,"function")?h=j:b.rot=j;l&&l.constructor==du&&(l=l.attrs.path);l&&(b.along=l);return this.animate(b,k,h)}}function cY(F,E,D,C,B,A){var z=3*E,y=3*(C-E)-z,x=1-z-y,w=3*D,v=3*(B-D)-w,u=1-w-v;function t(b){return((x*b+y)*b+z)*b}function s(f,e){var g=q(f,e);return((u*g+v)*g+w)*g}function q(h,g){var H,G,o,n,m,l;for(o=h,l=0;l<8;l++){n=t(o)-h;if(dm(n)<g){return o}m=(3*x*o+2*y)*o+z;if(dm(m)<0.000001){break}o=o-n/m}H=0;G=1;o=h;if(o<H){return H}if(o>G){return G}while(H<G){n=t(o);if(dm(n-h)<g){return o}h>n?H=o:G=o;o=(G-H)/2+H}return o}return s(F,1/(200*A))}dt.onAnimation=function(b){this._run=b||0;return this};dt.animate=function(bc,bb,ba,Z){var Y=this;Y.timeouts=Y.timeouts||[];if(a8.is(ba,"function")||!ba){Z=ba||null}if(Y.removed){Z&&Z.call(Y);return Y}var X={},W={},V=false,U={};for(var T in bc){if(bc[aY](T)){if(cF[aY](T)||Y.paper.customAttributes[aY](T)){V=true;X[T]=Y.attr(T);X[T]==null&&(X[T]=cH[T]);W[T]=bc[T];switch(cF[T]){case"along":var S=ah(bc[T]),R=ag(bc[T],S*!(!bc.back)),Q=Y.getBBox();U[T]=S/bb;U.tx=Q.x;U.ty=Q.y;U.sx=R.x;U.sy=R.y;W.rot=bc.rot;W.back=bc.back;W.len=S;bc.rot&&(U.r=cP(Y.rotate())||0);break;case dg:U[T]=(W[T]-X[T])/bb;break;case"colour":X[T]=a8.getRGB(X[T]);var O=a8.getRGB(W[T]);U[T]={r:(O.r-X[T].r)/bb,g:(O.g-X[T].g)/bb,b:(O.b-X[T].b)/bb};break;case"path":var K=aZ(X[T],W[T]);X[T]=K[0];var J=K[1];U[T]=[];for(var E=0,f=X[T][av];E<f;E++){U[T][E]=[0];for(var b=1,a=X[T][E][av];b<a;b++){U[T][E][b]=(J[E][b]-X[T][E][b])/bb}}break;case"csv":var P=aF(bc[T])[aD](a6),N=aF(X[T])[aD](a6);switch(T){case"translation":X[T]=[0,0];U[T]=[P[0]/bb,P[1]/bb];break;case"rotation":X[T]=N[1]==P[1]&&N[2]==P[2]?N:[0,P[1],P[2]];U[T]=[(P[0]-X[T][0])/bb,0,0];break;case"scale":bc[T]=P;X[T]=aF(X[T])[aD](a6);U[T]=[(P[0]-X[T][0])/bb,(P[1]-X[T][1])/bb,0,0];break;case"clip-rect":X[T]=aF(X[T])[aD](a6);U[T]=[];E=4;while(E--){U[T][E]=(P[E]-X[T][E])/bb}break}W[T]=P;break;default:P=[].concat(bc[T]);N=[].concat(X[T]);U[T]=[];E=Y.paper.customAttributes[T][av];while(E--){U[T][E]=((P[E]||0)-(N[E]||0))/bb}break}}}}if(V){var w=a8.easing_formulas[ba];if(!w){w=aF(ba).match(cX);if(w&&w[av]==5){var s=w;w=function(c){return cY(c,+s[1],+s[2],+s[3],+s[4],bb)}}else{w=function(c){return c}}}ae.push({start:bc.start||+(new Date),ms:bb,easing:w,from:X,diff:U,to:W,el:Y,t:{x:0,y:0}});a8.is(Z,"function")&&(Y._ac=setTimeout(function(){Z.call(Y)},bb));ae[av]==1&&setTimeout(ad)}else{var M=[],L;for(var I in bc){if(bc[aY](I)&&b7.test(I)){T={value:bc[I]};I=="from"&&(I=0);I=="to"&&(I=100);T.key=cN(I,10);M.push(T)}}M.sort(cO);M[0].key&&M.unshift({key:0,value:Y.attrs});for(E=0,f=M[av];E<f;E++){ac(M[E].value,Y,bb/100*M[E].key,bb/100*(M[E-1]&&M[E-1].key||0),M[E-1]&&M[E-1].value.callback)}L=M[M[av]-1].value.callback;L&&Y.timeouts.push(setTimeout(function(){L.call(Y)},bb))}return this};dt.stop=function(){for(var b=0;b<ae.length;b++){ae[b].el.id==this.id&&ae.splice(b--,1)}for(b=0,ii=this.timeouts&&this.timeouts.length;b<ii;b++){clearTimeout(this.timeouts[b])}this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};dt.translate=function(e,c){return this.attr({translation:e+" "+c})};dt[da]=function(){return"Rapha??l???s object"};a8.ae=ae;var cV=function(f){this.items=[];this[av]=0;this.type="set";if(f){for(var e=0,g=f[av];e<g;e++){if(f[e]&&(f[e].constructor==du||f[e].constructor==cV)){this[this.items[av]]=this.items[this.items[av]]=f[e];this[av]++}}}};cV[a0][c5]=function(){var f,e;for(var h=0,g=arguments[av];h<g;h++){f=arguments[h];if(f&&(f.constructor==du||f.constructor==cV)){e=this.items[av];this[e]=this.items[e]=f;this[av]++}}return this};cV[a0].pop=function(){delete this[this[av]--];return this.items.pop()};for(var cS in dt){dt[aY](cS)&&(cV[a0][cS]=(function(b){return function(){for(var a=0,e=this.items[av];a<e;a++){this.items[a][b][aO](this.items[a],arguments)}return this}})(cS))}cV[a0].attr=function(a,m){if(a&&a8.is(a,dc)&&a8.is(a[0],"object")){for(var l=0,k=a[av];l<k;l++){this.items[l].attr(a[l])}}else{for(var j=0,h=this.items[av];j<h;j++){this.items[j].attr(a,m)}}return this};cV[a0].animate=function(t,s,q,o){(a8.is(q,"function")||!q)&&(o=q||null);var n=this.items[av],m=n,l,k=this,a;o&&(a=function(){!(--n)&&o.call(k)});q=a8.is(q,de)?q:a;l=this.items[--m].animate(t,s,q,a);while(m--){this.items[m]&&!this.items[m].removed&&this.items[m].animateWith(l,t,s,q,a)}return this};cV[a0].insertAfter=function(e){var c=this.items[av];while(c--){this.items[c].insertAfter(e)}return this};cV[a0].getBBox=function(){var h=[],g=[],m=[],l=[];for(var k=this.items[av];k--;){var j=this.items[k].getBBox();h[c5](j.x);g[c5](j.y);m[c5](j.x+j.width);l[c5](j.y+j.height)}h=dp[aO](0,h);g=dp[aO](0,g);return{x:h,y:g,width:ao[aO](0,m)-h,height:ao[aO](0,l)-g}};cV[a0].clone=function(f){f=new cV;for(var e=0,g=this.items[av];e<g;e++){f[c5](this.items[e].clone())}return f};a8.registerFont=function(j){if(!j.face){return j}this.fonts=this.fonts||{};var f={w:j.w,face:{},glyphs:{}},o=j.face["font-family"];for(var n in j.face){j.face[aY](n)&&(f.face[n]=j.face[n])}this.fonts[o]?this.fonts[o][c5](f):this.fonts[o]=[f];if(!j.svg){f.face["units-per-em"]=cN(j.face["units-per-em"],10);for(var m in j.glyphs){if(j.glyphs[aY](m)){var l=j.glyphs[m];f.glyphs[m]={w:l.w,k:{},d:l.d&&"M"+l.d[b9](/[mlcxtrv]/g,function(b){return({l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"})[b]||"M"})+"z"};if(l.k){for(var k in l.k){l[aY](k)&&(f.glyphs[m].k[k]=l.k[k])}}}}}return j};aQ.getFont=function(v,u,t,s){s=s||"normal";t=t||"normal";u=+u||({normal:400,bold:700,lighter:300,bolder:800})[u]||400;if(!a8.fonts){return}var q=a8.fonts[v];if(!q){var o=new RegExp("(^|\\s)"+v[b9](/[^\w\d\s+!~.:_-]/g,aJ)+"(\\s|$)","i");for(var n in a8.fonts){if(a8.fonts[aY](n)){if(o.test(n)){q=a8.fonts[n];break}}}}var m;if(q){for(var f=0,a=q[av];f<a;f++){m=q[f];if(m.face["font-weight"]==u&&(m.face["font-style"]==t||!m.face["font-style"])&&m.face["font-stretch"]==s){break}}}return m};aQ.print=function(N,M,L,K,J,I,H){I=I||"middle";H=ao(dp(H||0,1),-1);var G=this.set(),F=aF(L)[aD](aJ),E=0,D=aJ,C;a8.is(K,L)&&(K=this.getFont(K));if(K){C=(J||16)/K.face["units-per-em"];var B=K.face.bbox.split(a6),A=+B[0],z=+B[1]+(I=="baseline"?B[3]-B[1]+ +K.face.descent:(B[3]-B[1])/2);for(var w=0,s=F[av];w<s;w++){var b=w&&K.glyphs[F[w-1]]||{},a=K.glyphs[F[w]];E+=w?(b.w||K.w)+(b.k&&b.k[F[w]]||0)+K.w*H:0;a&&a.d&&G[c5](this.path(a.d).attr({fill:"#000",stroke:"none",translation:[E,0]}))}G.scale(C,C,A,z).translate(N-A,M-z)}return G};a8.format=function(a,g){var f=a8.is(g,dc)?[0][aN](g):arguments;a&&a8.is(a,de)&&f[av]-1&&(a=a[b9](a2,function(e,c){return f[++c]==null?aJ:f[c]}));return a||aJ};a8.ninja=function(){aS.was?aU.Raphael=aS.is:delete Raphael;return a8};a8.el=dt;a8.st=cV[a0];aS.was?aU.Raphael=a8:Raphael=a8})();(function(){var g=Math.max,j=Math.min;Raphael.fn.g=Raphael.fn.g||{};Raphael.fn.g.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"};Raphael.fn.g.shim={stroke:"none",fill:"#000","fill-opacity":0};Raphael.fn.g.txtattr={font:"12px Arial, sans-serif"};Raphael.fn.g.colors=[];var h=[0.6,0.2,0.05,0.1333,0.75,0];for(var f=0;f<10;f++){if(f<h.length){Raphael.fn.g.colors.push("hsb("+h[f]+", .75, .75)")}else{Raphael.fn.g.colors.push("hsb("+h[f-h.length]+", 1, .5)")}}Raphael.fn.g.text=function(c,a,b){return this.text(c,a,b).attr(this.g.txtattr)};Raphael.fn.g.labelise=function(c,a,b){if(c){return(c+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(m,e,l){if(e){return(+a).toFixed(e.replace(/^#+\.?/g,"").length)}if(l){return(a*100/b).toFixed(l.replace(/^%+\.?/g,"").length)+"%"}})}else{return(+a).toFixed(0)}};Raphael.fn.g.finger=function(e,q,v,c,u,t,s){if((u&&!c)||(!u&&!v)){return s?"":this.path()}t={square:"square",sharp:"sharp",soft:"soft"}[t]||"round";var a;c=Math.round(c);v=Math.round(v);e=Math.round(e);q=Math.round(q);switch(t){case"round":if(!u){var w=~~(c/2);if(v<w){w=v;a=["M",e+0.5,q+0.5-~~(c/2),"l",0,0,"a",w,~~(c/2),0,0,1,0,c,"l",0,0,"z"]}else{a=["M",e+0.5,q+0.5-w,"l",v-w,0,"a",w,w,0,1,1,0,c,"l",w-v,0,"z"]}}else{w=~~(v/2);if(c<w){w=c;a=["M",e-~~(v/2),q,"l",0,0,"a",~~(v/2),w,0,0,1,v,0,"l",0,0,"z"]}else{a=["M",e-w,q,"l",0,w-c,"a",w,w,0,1,1,v,0,"l",0,c-w,"z"]}}break;case"sharp":if(!u){var b=~~(c/2);a=["M",e,q+b,"l",0,-c,g(v-b,0),0,j(b,v),b,-j(b,v),b+(b*2<c),"z"]}else{b=~~(v/2);a=["M",e+b,q,"l",-v,0,0,-g(c-b,0),b,-j(b,c),b,j(b,c),b,"z"]}break;case"square":if(!u){a=["M",e,q+~~(c/2),"l",0,-c,v,0,0,c,"z"]}else{a=["M",e+~~(v/2),q,"l",1-v,0,0,-c,v-1,0,"z"]}break;case"soft":if(!u){w=j(v,Math.round(c/5));a=["M",e+0.5,q+0.5-~~(c/2),"l",v-w,0,"a",w,w,0,0,1,w,w,"l",0,c-w*2,"a",w,w,0,0,1,-w,w,"l",w-v,0,"z"]}else{w=j(Math.round(v/5),c);a=["M",e-~~(v/2),q,"l",0,w-c,"a",w,w,0,0,1,w,-w,"l",v-2*w,0,"a",w,w,0,0,1,w,w,"l",0,c-w,"z"]}}if(s){return a.join(",")}else{return this.path(a)}};Raphael.fn.g.disc=function(c,a,b){return this.circle(c,a,b)};Raphael.fn.g.line=function(c,a,b){return this.rect(c-b,a-b/5,2*b,2*b/5)};Raphael.fn.g.square=function(c,a,b){b=b*0.7;return this.rect(c-b,a-b,2*b,2*b)};Raphael.fn.g.triangle=function(c,a,b){b*=1.75;return this.path("M".concat(c,",",a,"m0-",b*0.58,"l",b*0.5,",",b*0.87,"-",b,",0z"))};Raphael.fn.g.diamond=function(c,a,b){return this.path(["M",c,a-b,"l",b,b,-b,b,-b,-b,b,-b,"z"])};Raphael.fn.g.flower=function(q,s,u,t){u=u*1.25;var b=u,c=b*0.5;t=+t<3||!t?5:t;var a=["M",q,s+c,"Q"],e;for(var n=1;n<t*2+1;n++){e=n%2?b:c;a=a.concat([+(q+e*Math.sin(n*Math.PI/t)).toFixed(3),+(s+e*Math.cos(n*Math.PI/t)).toFixed(3)])}a.push("z");return this.path(a.join(","))};Raphael.fn.g.star=function(s,t,a,o,q){o=o||a*0.382;q=q||5;var b=["M",s,t+o,"L"],c;for(var e=1;e<q*2;e++){c=e%2?a:o;b=b.concat([(s+c*Math.sin(e*Math.PI/q)),(t+c*Math.cos(e*Math.PI/q))])}b.push("z");return this.path(b.join(","))};Raphael.fn.g.cross=function(c,a,b){b=b/2.5;return this.path("M".concat(c-b,",",a,"l",[-b,-b,b,-b,b,b,b,-b,b,b,-b,b,b,b,-b,b,-b,-b,-b,b,-b,-b,"z"]))};Raphael.fn.g.plus=function(c,a,b){b=b/2;return this.path("M".concat(c-b/2,",",a-b/2,"l",[0,-b,b,0,0,b,b,0,0,b,-b,0,0,b,-b,0,0,-b,-b,0,0,-b,"z"]))};Raphael.fn.g.arrow=function(c,a,b){return this.path("M".concat(c-b*0.7,",",a-b*0.4,"l",[b*0.6,0,0,-b*0.4,b,b*0.8,-b,b*0.8,0,-b*0.4,-b*0.6,0],"z"))};Raphael.fn.g.tag=function(s,a,b,c,n){c=c||0;n=n==null?5:n;b=b==null?"$9.99":b;var o=0.5522*n,q=this.set(),e=3;q.push(this.path().attr({fill:"#000",stroke:"#000"}));q.push(this.text(s,a,b).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));q.update=function(){this.rotate(0,s,a);var k=this[1].getBBox();if(k.height>=n*2){this[0].attr({path:["M",s,a+n,"a",n,n,0,1,1,0,-n*2,n,n,0,1,1,0,n*2,"m",0,-n*2-e,"a",n+e,n+e,0,1,0,0,(n+e)*2,"L",s+n+e,a+k.height/2+e,"l",k.width+2*e,0,0,-k.height-2*e,-k.width-2*e,0,"L",s,a-n-e].join(",")})}else{var l=Math.sqrt(Math.pow(n+e,2)-Math.pow(k.height/2+e,2));this[0].attr({path:["M",s,a+n,"c",-o,0,-n,o-n,-n,-n,0,-o,n-o,-n,n,-n,o,0,n,n-o,n,n,0,o,o-n,n,-n,n,"M",s+l,a-k.height/2-e,"a",n+e,n+e,0,1,0,0,k.height+2*e,"l",n+e-l+k.width+2*e,0,0,-k.height-2*e,"L",s+l,a-k.height/2-e].join(",")})}this[1].attr({x:s+n+e+k.width/2,y:a});c=(360-c)%360;this.rotate(c,s,a);c>90&&c<270&&this[1].attr({x:s-n-e-k.width/2,y:a,rotation:[180+c,s,a]});return this};q.update();return q};Raphael.fn.g.popupit=function(u,v,e,y,A){y=y==null?2:y;A=A||5;u=Math.round(u);v=Math.round(v);var w=e.getBBox(),c=Math.round(w.width/2),x=Math.round(w.height/2),B=[0,c+A*2,0,-c-A*2],b=[-x*2-A*3,-x-A,0,-x-A],z=["M",u-B[y],v-b[y],"l",-A,(y==2)*-A,-g(c-A,0),0,"a",A,A,0,0,1,-A,-A,"l",0,-g(x-A,0),(y==3)*-A,-A,(y==3)*A,-A,0,-g(x-A,0),"a",A,A,0,0,1,A,-A,"l",g(c-A,0),0,A,!y*-A,A,!y*A,g(c-A,0),0,"a",A,A,0,0,1,A,A,"l",0,g(x-A,0),(y==1)*A,A,(y==1)*-A,A,0,g(x-A,0),"a",A,A,0,0,1,-A,A,"l",-g(c-A,0),0,"z"].join(","),a=[{x:u,y:v+A*2+x},{x:u-A*2-c,y:v},{x:u,y:v-A*2-x},{x:u+A*2+c,y:v}][y];e.translate(a.x-c-w.x,a.y-x-w.y);return this.path(z).attr({fill:"#000",stroke:"none"}).insertBefore(e.node?e:e[0])};Raphael.fn.g.popup=function(o,a,b,n,e){n=n==null?2:n>3?3:n;e=e||5;b=b||"$9.99";var m=this.set(),c=3;m.push(this.path().attr({fill:"#000",stroke:"#000"}));m.push(this.text(o,a,b).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));m.update=function(l,w,k){l=l||o;w=w||a;var E=this[1].getBBox(),D=E.width/2,F=E.height/2,A=[0,D+e*2,0,-D-e*2],C=[-F*2-e*3,-F-e,0,-F-e],z=["M",l-A[n],w-C[n],"l",-e,(n==2)*-e,-g(D-e,0),0,"a",e,e,0,0,1,-e,-e,"l",0,-g(F-e,0),(n==3)*-e,-e,(n==3)*e,-e,0,-g(F-e,0),"a",e,e,0,0,1,e,-e,"l",g(D-e,0),0,e,!n*-e,e,!n*e,g(D-e,0),0,"a",e,e,0,0,1,e,e,"l",0,g(F-e,0),(n==1)*e,e,(n==1)*-e,e,0,g(F-e,0),"a",e,e,0,0,1,-e,e,"l",-g(D-e,0),0,"z"].join(","),B=[{x:l,y:w+e*2+F},{x:l-e*2-D,y:w},{x:l,y:w-e*2-F},{x:l+e*2+D,y:w}][n];B.path=z;if(k){this.animate(B,500,">")}else{this.attr(B)}return this};return m.update(o,a)};Raphael.fn.g.flag=function(m,a,b,c){c=c||0;b=b||"$9.99";var l=this.set(),e=3;l.push(this.path().attr({fill:"#000",stroke:"#000"}));l.push(this.text(m,a,b).attr(this.g.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));l.update=function(q,s){this.rotate(0,q,s);var t=this[1].getBBox(),k=t.height/2;this[0].attr({path:["M",q,s,"l",k+e,-k-e,t.width+2*e,0,0,t.height+2*e,-t.width-2*e,0,"z"].join(",")});this[1].attr({x:q+k+e+t.width/2,y:s});c=360-c;this.rotate(c,q,s);c>90&&c<270&&this[1].attr({x:q-r-e-t.width/2,y:s,rotation:[180+c,q,s]});return this};return l.update(m,a)};Raphael.fn.g.label=function(e,a,b){var c=this.set();c.push(this.rect(e,a,10,10).attr({stroke:"none",fill:"#000"}));c.push(this.text(e,a,b).attr(this.g.txtattr).attr({fill:"#fff"}));c.update=function(){var l=this[1].getBBox(),m=j(l.width+10,l.height+10)/2;this[0].attr({x:l.x-m/2,y:l.y-m/2,width:l.width+m,height:l.height+m,r:m})};c.update();return c};Raphael.fn.g.labelit=function(a){var b=a.getBBox(),c=j(20,b.width+10,b.height+10)/2;return this.rect(b.x-c/2,b.y-c/2,b.width+c,b.height+c,c).attr({stroke:"none",fill:"#000"}).insertBefore(a.node?a:a[0])};Raphael.fn.g.drop=function(m,a,b,e,c){e=e||30;c=c||0;var l=this.set();l.push(this.path(["M",m,a,"l",e,0,"A",e*0.4,e*0.4,0,1,0,m+e*0.7,a-e*0.7,"z"]).attr({fill:"#000",stroke:"none",rotation:[22.5-c,m,a]}));c=(c+90)*Math.PI/180;l.push(this.text(m+e*Math.sin(c),a+e*Math.cos(c),b).attr(this.g.txtattr).attr({"font-size":e*12/30,fill:"#fff"}));l.drop=l[0];l.text=l[1];return l};Raphael.fn.g.blob=function(q,a,b,c,n){c=(+c+1?c:45)+90;n=n||12;var s=Math.PI/180,e=n*12/12;var o=this.set();o.push(this.path().attr({fill:"#000",stroke:"none"}));o.push(this.text(q+n*Math.sin((c)*s),a+n*Math.cos((c)*s)-e/2,b).attr(this.g.txtattr).attr({"font-size":e,fill:"#fff"}));o.update=function(Q,S,L){Q=Q||q;S=S||a;var I=this[1].getBBox(),k=g(I.width+e,n*25/12),K=g(I.height+e,n*25/12),H=Q+n*Math.sin((c-22.5)*s),G=S+n*Math.cos((c-22.5)*s),m=Q+n*Math.sin((c+22.5)*s),l=S+n*Math.cos((c+22.5)*s),P=(m-H)/2,R=(l-G)/2,w=k/2,J=K/2,M=-Math.sqrt(Math.abs(w*w*J*J-w*w*R*R-J*J*P*P)/(w*w*R*R+J*J*P*P)),N=M*w*R/J+(m+H)/2,O=M*-J*P/w+(l+G)/2;if(L){this.animate({x:N,y:O,path:["M",q,a,"L",m,l,"A",w,J,0,1,1,H,G,"z"].join(",")},500,">")}else{this.attr({x:N,y:O,path:["M",q,a,"L",m,l,"A",w,J,0,1,1,H,G,"z"].join(",")})}return this};o.update(q,a);return o};Raphael.fn.g.colorValue=function(a,b,c,e){return"hsb("+[j((1-a/b)*0.4,1),c||0.75,e||0.75]+")"};Raphael.fn.g.snapEnds=function(e,c,s){var u=e,b=c;if(u==b){return{from:u,to:b,power:0}}function a(k){return Math.abs(k-0.5)<0.25?~~(k)+0.5:Math.round(k)}var t=(b-u)/s,x=~~(t),v=x,w=0;if(x){while(v){w--;v=~~(t*Math.pow(10,w))/Math.pow(10,w)}w++}else{while(!x){w=w||1;x=~~(t*Math.pow(10,w))/Math.pow(10,w);w++}w&&w--}b=a(c*Math.pow(10,w))/Math.pow(10,w);if(b<c){b=a((c+0.5)*Math.pow(10,w))/Math.pow(10,w)}u=a((e-(w>0?0:0.5))*Math.pow(10,w))/Math.pow(10,w);return{from:u,to:b,power:w}};Raphael.fn.g.axis=function(P,R,aa,O,ad,t,ac,b,ab,ag){ag=ag==null?2:ag;ab=ab||"t";t=t||10;var Q=ab=="|"||ab==" "?["M",P+0.5,R,"l",0,0.001]:ac==1||ac==3?["M",P+0.5,R,"l",0,-aa]:["M",P,R+0.5,"l",aa,0],e=this.g.snapEnds(O,ad,t),c=e.from,X=e.to,x=e.power,N=0,V=this.set();d=(X-c)/t;var U=c,W=x>0?x:0;y=aa/t;if(+ac==1||+ac==3){var af=R,Z=(ac-1?1:-1)*(ag+3+!!(ac-1));while(af>=R-aa){ab!="-"&&ab!=" "&&(Q=Q.concat(["M",P-(ab=="+"||ab=="|"?ag:!(ac-1)*ag*2),af+0.5,"l",ag*2+1,0]));V.push(this.text(P+Z,af,(b&&b[N++])||(Math.round(U)==U?U:+U.toFixed(W))).attr(this.g.txtattr).attr({"text-anchor":ac-1?"start":"end"}));U+=d;af-=y}if(Math.round(af+y-(R-aa))){ab!="-"&&ab!=" "&&(Q=Q.concat(["M",P-(ab=="+"||ab=="|"?ag:!(ac-1)*ag*2),R-aa+0.5,"l",ag*2+1,0]));V.push(this.text(P+Z,R-aa,(b&&b[N])||(Math.round(U)==U?U:+U.toFixed(W))).attr(this.g.txtattr).attr({"text-anchor":ac-1?"start":"end"}))}}else{U=c;W=(x>0)*x;Z=(ac?-1:1)*(ag+9+!ac);var ae=P,y=aa/t,T=0,S=0;while(ae<=P+aa){ab!="-"&&ab!=" "&&(Q=Q.concat(["M",ae+0.5,R-(ab=="+"?ag:!!ac*ag*2),"l",0,ag*2+1]));V.push(T=this.text(ae,R+Z,(b&&b[N++])||(Math.round(U)==U?U:+U.toFixed(W))).attr(this.g.txtattr));var Y=T.getBBox();if(S>=Y.x-5){V.pop(V.length-1).remove()}else{S=Y.x+Y.width}U+=d;ae+=y}if(Math.round(ae-y-P-aa)){ab!="-"&&ab!=" "&&(Q=Q.concat(["M",P+aa+0.5,R-(ab=="+"?ag:!!ac*ag*2),"l",0,ag*2+1]));V.push(this.text(P+aa,R+Z,(b&&b[N])||(Math.round(U)==U?U:+U.toFixed(W))).attr(this.g.txtattr))}}var a=this.path(Q);a.text=V;a.all=this.set([a,V]);a.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};return a};Raphael.el.lighter=function(a){a=a||2;var b=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[b[0],b[1]];b[0]=Raphael.rgb2hsb(Raphael.getRGB(b[0]).hex);b[1]=Raphael.rgb2hsb(Raphael.getRGB(b[1]).hex);b[0].b=j(b[0].b*a,1);b[0].s=b[0].s/a;b[1].b=j(b[1].b*a,1);b[1].s=b[1].s/a;this.attr({fill:"hsb("+[b[0].h,b[0].s,b[0].b]+")",stroke:"hsb("+[b[1].h,b[1].s,b[1].b]+")"})};Raphael.el.darker=function(a){a=a||2;var b=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[b[0],b[1]];b[0]=Raphael.rgb2hsb(Raphael.getRGB(b[0]).hex);b[1]=Raphael.rgb2hsb(Raphael.getRGB(b[1]).hex);b[0].s=j(b[0].s*a,1);b[0].b=b[0].b/a;b[1].s=j(b[1].s*a,1);b[1].b=b[1].b/a;this.attr({fill:"hsb("+[b[0].h,b[0].s,b[0].b]+")",stroke:"hsb("+[b[1].h,b[1].s,b[1].b]+")"})};Raphael.el.original=function(){if(this.fs){this.attr({fill:this.fs[0],stroke:this.fs[1]});delete this.fs}}})();Raphael.fn.g.linechart=function(aj,ak,aV,aT,aF,aG,aq){function ar(b,f){var e=b.length/f,k=0,c=e,g=0,h=[];while(k<b.length){c--;if(c<0){g+=b[k]*(1+c);h.push(g/e);g=b[k++]*-c;c+=e}else{g+=b[k++]}}return h}function ag(e,f,l,o,u,b){var n=(l-e)/2,s=(u-l)/2,k=Math.atan((l-e)/Math.abs(o-f)),m=Math.atan((u-l)/Math.abs(o-b));k=f<o?Math.PI-k:k;m=b<o?Math.PI-m:m;var c=Math.PI/2-((k+m)%(Math.PI*2))/2,g=n*Math.sin(c+k),q=n*Math.cos(c+k),h=s*Math.sin(c+m),t=s*Math.cos(c+m);return{x1:l-g,y1:o+q,x2:l+h,y2:o+t}}aq=aq||{};if(!this.raphael.is(aF[0],"array")){aF=[aF]}if(!this.raphael.is(aG[0],"array")){aG=[aG]}var aM=aq.gutter||10,aE=Math.max(aF[0].length,aG[0].length),aK=aq.symbol||"",af=aq.colors||Raphael.fn.g.colors,al=this,aI=null,aN=null,az=this.set(),ae=[];for(var aA=0,ao=aG.length;aA<ao;aA++){aE=Math.max(aE,aG[aA].length)}var aw=this.set();for(aA=0,ao=aG.length;aA<ao;aA++){if(aq.shade){aw.push(this.path().attr({stroke:"none",fill:af[aA],opacity:aq.nostroke?1:0.3}))}if(aG[aA].length>aV-2*aM){aG[aA]=ar(aG[aA],aV-2*aM);aE=aV-2*aM}if(aF[aA]&&aF[aA].length>aV-2*aM){aF[aA]=ar(aF[aA],aV-2*aM)}}var y=Array.prototype.concat.apply([],aF),Y=Array.prototype.concat.apply([],aG),aJ=this.g.snapEnds(Math.min.apply(Math,y),Math.max.apply(Math,y),aF[0].length-1),aB=aJ.from,aO=aJ.to,am=this.g.snapEnds(Math.min.apply(Math,Y),Math.max.apply(Math,Y),aG[0].length-1),aD=am.from,aP=am.to,x=(aV-aM*2)/((aO-aB)||1),X=(aT-aM*2)/((aP-aD)||1);var ax=this.set();if(aq.axis){var aQ=(aq.axis+"").split(/[,\s]+/);+aQ[0]&&ax.push(this.g.axis(aj+aM,ak+aM,aV-2*aM,aB,aO,aq.axisxstep||Math.floor((aV-2*aM)/20),2));+aQ[1]&&ax.push(this.g.axis(aj+aV-aM,ak+aT-aM,aT-2*aM,aD,aP,aq.axisystep||Math.floor((aT-2*aM)/20),3));+aQ[2]&&ax.push(this.g.axis(aj+aM,ak+aT-aM,aV-2*aM,aB,aO,aq.axisxstep||Math.floor((aV-2*aM)/20),0));+aQ[3]&&ax.push(this.g.axis(aj+aM,ak+aT-aM,aT-2*aM,aD,aP,aq.axisystep||Math.floor((aT-2*aM)/20),1))}var an=this.set(),j=this.set(),aL;for(aA=0,ao=aG.length;aA<ao;aA++){if(!aq.nostroke){an.push(aL=this.path().attr({stroke:af[aA],"stroke-width":aq.width||2,"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":aq.dash||""}))}var aU=this.raphael.is(aK,"array")?aK[aA]:aK,av=this.set();ae=[];for(var a=0,aH=aG[aA].length;a<aH;a++){var aR=aj+aM+((aF[aA]||aF[0])[a]-aB)*x,aS=ak+aT-aM-(aG[aA][a]-aD)*X;(Raphael.is(aU,"array")?aU[a]:aU)&&av.push(this.g[Raphael.fn.g.markers[this.raphael.is(aU,"array")?aU[a]:aU]](aR,aS,(aq.width||2)*3).attr({fill:af[aA],stroke:"none"}));if(aq.smooth){if(a&&a!=aH-1){var ah=aj+aM+((aF[aA]||aF[0])[a-1]-aB)*x,ay=ak+aT-aM-(aG[aA][a-1]-aD)*X,ai=aj+aM+((aF[aA]||aF[0])[a+1]-aB)*x,aC=ak+aT-aM-(aG[aA][a+1]-aD)*X;var au=ag(ah,ay,aR,aS,ai,aC);ae=ae.concat([au.x1,au.y1,aR,aS,au.x2,au.y2])}if(!a){ae=["M",aR,aS,"C",aR,aS]}}else{ae=ae.concat([a?"L":"M",aR,aS])}}if(aq.smooth){ae=ae.concat([aR,aS,aR,aS])}j.push(av);if(aq.shade){aw[aA].attr({path:ae.concat(["L",aR,ak+aT-aM,"L",aj+aM+((aF[aA]||aF[0])[0]-aB)*x,ak+aT-aM,"z"]).join(",")})}!aq.nostroke&&aL.attr({path:ae.join(",")})}function ap(g){var m=[];for(var k=0,e=aF.length;k<e;k++){m=m.concat(aF[k])}m.sort();var c=[],t=[];for(k=0,e=m.length;k<e;k++){m[k]!=m[k-1]&&c.push(m[k])&&t.push(aj+aM+(m[k]-aB)*x)}m=c;e=m.length;var b=g||al.set();for(k=0;k<e;k++){var l=t[k]-(t[k]-(t[k-1]||aj))/2,f=((t[k+1]||aj+aV)-t[k])/2+(t[k]-(t[k-1]||aj))/2,q;g?(q={}):b.push(q=al.rect(l-1,ak,Math.max(f+1,1),aT).attr({stroke:"none",fill:"#000",opacity:0}));q.values=[];q.symbols=al.set();q.y=[];q.x=t[k];q.axis=m[k];for(var o=0,h=aG.length;o<h;o++){c=aF[o]||aF[0];for(var s=0,n=c.length;s<n;s++){if(c[s]==m[k]){q.values.push(aG[o][s]);q.y.push(ak+aT-aM-(aG[o][s]-aD)*X);q.symbols.push(az.symbols[o][s])}}}g&&g.call(q)}!g&&(aI=b)}function at(e){var n=e||al.set(),l;for(var k=0,b=aG.length;k<b;k++){for(var m=0,g=aG[k].length;m<g;m++){var f=aj+aM+((aF[k]||aF[0])[m]-aB)*x,c=aj+aM+((aF[k]||aF[0])[m?m-1:1]-aB)*x,h=ak+aT-aM-(aG[k][m]-aD)*X;e?(l={}):n.push(l=al.circle(f,h,Math.abs(c-f)/2).attr({stroke:"none",fill:"#000",opacity:0}));l.x=f;l.y=h;l.value=aG[k][m];l.line=az.lines[k];l.shade=az.shades[k];l.symbol=az.symbols[k][m];l.symbols=az.symbols[k];l.axis=(aF[k]||aF[0])[m];e&&e.call(l)}}!e&&(aN=n)}az.push(an,aw,j,ax,aI,aN);az.lines=an;az.shades=aw;az.symbols=j;az.axis=ax;az.hoverColumn=function(c,b){!aI&&ap();aI.mouseover(c).mouseout(b);return this};az.clickColumn=function(b){!aI&&ap();aI.click(b);return this};az.hrefColumn=function(g){var e=al.raphael.is(arguments[0],"array")?arguments[0]:arguments;if(!(arguments.length-1)&&typeof g=="object"){for(var b in g){for(var c=0,f=aI.length;c<f;c++){if(aI[c].axis==b){aI[c].attr("href",g[b])}}}}!aI&&ap();for(c=0,f=e.length;c<f;c++){aI[c]&&aI[c].attr("href",e[c])}return this};az.hover=function(c,b){!aN&&at();aN.mouseover(c).mouseout(b);return this};az.click=function(b){!aN&&at();aN.click(b);return this};az.each=function(b){at(b);return this};az.eachColumn=function(b){ap(b);return this};return az};MathProcessor=function(){var a=this;a.o={"+":function(e,c){return +e+c},"-":function(e,c){return e-c},"%":function(e,c){return e%c},"/":function(e,c){return e/c},"*":function(e,c){return e*c},"^":function(e,c){return Math.pow(e,c)},"~":function(e,c){return Math.sqrt(e,c)}};a.s={"^":3,"~":3,"*":2,"/":2,"%":1,"+":0,"-":0};a.u={"+":1,"-":-1},a.p={"(":1,")":-1}};with({p:MathProcessor.prototype}){p.methods={div:function(e,c){return parseInt(e/c)},fra:function(b){return b-parseInt(b)},sum:function(g,f,e,j){for(var h=0,c,b=(c=arguments).length;b;h+=c[--b]){}return h},medium:function(g,f,e,j){for(var h=0,c,b=(c=arguments).length;b;h+=c[--b]){}return h/c.length}};p.parse=function(f){for(var h,a,b=this,g=[],c=[a=b.RPN(f.replace(/ /g,"").split(""))];c.length;){for((h=c[c.length-1],--c.length);h[2];g[g.length]=h,c[c.length]=h[3],h=h[2]){}}for(;(h=g.pop())!=undefined;h[0]=b.o[h[0]](isNaN(h[2][0])?b.f(h[2][0]):h[2][0],isNaN(h[3][0])?b.f(h[3][0]):h[3][0])){}return +a[0]};p.RPN=function(g){var a,f,b=this,h=f=[,,,0];if(g[0] in b.u||!g.unshift("+")){for(;g[1] in b.u;g[0]=b.u[g.shift()]*b.u[g[0]]+1?"+":"-"){}}(h[3]=[b.u[g.shift()],h,,0])[1][0]="*",(f=[,,h,0])[2][1]=f;(h[2]=b.v(g))[1]=h;(!g.length&&(f=h))||(g[0] in b.s&&((h=f)[0]=g.shift(),!g.length&&b.error()));while(g.length){if(g[0] in b.u){for(;g[1] in b.u;g[0]=b.u[g.shift()]*b.u[g[0]]+1?"+":"-"){}(h=h[3]=["*",h,,0])[2]=[-1,h,,0]}(h[3]=b.v(g))[1]=h;g[0] in b.s&&(h=b.s[g[0]]>b.s[h[0]]?((h[3]=(a=h[3],h[2]))[1][2]=[g.shift(),h,a,0])[2][1]=h[2]:f==h?(f=[g.shift(),,h,0])[2][1]=f:((f[2]=(a=f[2],[g.shift(),f,,0]))[2]=a)[1]=f[2])}return f};p.v=function(g){var f,c,a,b=this;if("0123456789.".indexOf(g[0])+1){for(f=-1,a=g.length;++f<a&&"0123456789.".indexOf(g[f])+1;){}return[+g.splice(0,f).join(""),,,0]}else{if(g[0]=="("){for(f=0,a=g.length,c=1;++f<a&&(g[f] in b.p&&(c+=b.p[g[f]]),c);){}return b.RPN(a=g.splice(0,f),a.shift(),!c&&g.shift())}else{if(((c=g[0].toLowerCase())>="a"&&c<="z")||c=="_"){for(f=0;((c=g[++f].toLowerCase())>="a"&&c<="z")||c=="_"||(c>=0&&c<=9);){}if(c=="("){for(var a=g.length,c=1;++f<a&&(g[f] in b.p&&(c+=b.p[g[f]]),c);){}return[g.splice(0,f+1).join(""),,,0]}}}}b.error()};p.f=function(h){var k,g=0,f=this;if(((h=h.split(""))[g]>="a"&&h[g]<="z")||h[g]=="_"){while((h[++g]>="a"&&h[g]<="z")||h[g]=="_"||(h[g]>=0&&h[g]<=9)){}if(h[g]=="("){!f.methods[k=h.splice(0,g).join("")]&&f.error('Fun????o "'+k+'" n??o encontrada'),h.shift();for(var b=[],g=-1,c=1;h[++g]&&(h[g] in f.p&&(c+=f.p[h[g]]),c);){c==1&&h[g]==","&&(b.push(f.parse(h.splice(0,g).join(""))),h.shift(),g=-1)}b.push(f.parse(h.splice(0,g).join(""))),!c&&h.shift()}return f.methods[k].apply(f,b)}};p.error=function(a){throw new Error("MathProcessor: "+(a||"Erro na express??o"))}}var arrayLegendHash=new Array();var arrayValueHash=new Array();var colorArray=[];function loadSaved(){var h=String(document.getElementById("savebar").value);if(h.length<3){alert("Could Not Load Saved Function from Hash")}else{clearScreen();var b=h.indexOf("?&$")+3;if(h.indexOf("?&$")>-1){var c=h.indexOf("&#");var j=h.substring(b,c);j=j.replace(/%20/g," ");j=j.replace(/%25/g,"%");j=j.replace(/%28/g,"(");j=j.replace(/%29/g,")");document.getElementById("mainEquation").value=j}}var k=h.indexOf("&#")+2;var f=h.indexOf("&%");if(h.indexOf("&#")>0){var e=h.substring(k,f);e=e.replace(/%20/g," ");addTitlesToHash(e)}var g=h.indexOf("&%")+2;var l=h.indexOf("&*");if(h.indexOf("&%")>0){var a=h.substring(g,l);a=a.replace(/%20/g," ");addValuesToHash(a)}parseEquation()}function addTitlesToHash(g){var b=0;var f=1;var c=g;while(f==1){b=c.indexOf("&:");if(b>-1){stopDelimiter=c.indexOf("&,");var e=c.substring(0,b);var a=c.substring(b+2,stopDelimiter);c=c.substring(stopDelimiter+2,c.length);arrayLegendHash[e]=a}else{f=0}}}function addValuesToHash(g){var b=0;var f=1;var c=g;while(f==1){b=c.indexOf("&:");if(b>-1){stopDelimiter=c.indexOf("&,");var e=c.substring(0,b);var a=c.substring(b+2,stopDelimiter);c=c.substring(stopDelimiter+2,c.length);arrayValueHash[e]=a}else{f=0}}}function showValue(c,a){var b=document.getElementById("sub"+a);b.innerHTML=c;arrayValueHash[a[a.length-1]]=c;solveEquation(document.getElementById("mainEquation").value);updateGraph()}function renameSlider(b){var f=prompt("Enter a new variable name","nonameslider");var e=document.getElementById("slider"+b);delete arrayLegendHash[b];var a=b[b.length-1];arrayLegendHash[a]=f;var c="("+b[b.length-1]+") "+f;e.innerHTML=c;solveEquation(document.getElementById("mainEquation").value);updateGraph()}function stringifyHash(){var a="";var c=arrayLegendHash;for(var b in c){a+=b+"&:"+arrayLegendHash[b];a+="&,"}a+="";return a}function stringifyValueHash(){var a="";var c=arrayValueHash;for(var b in c){a+=b+"&:"+arrayValueHash[b];a+="&,"}a+="";return a}function stringifyPage(){var b=stringifyHash();var c=stringifyValueHash();var e=document.getElementById("mainEquation").value;e=e.replace(/\s/g,"%20");var a="?&$"+e+"&#"+b+"&%"+c+"&*";document.getElementById("savebar").value=a}function moreSliders(c,l){if(!arrayValueHash[c]){arrayValueHash[c]=0}var h=document.getElementById("slidertemplate").cloneNode(true);h.id="";h.style.display="block";var f=null;var a=h.childNodes;for(var e=0;e<a.length;e++){var b=a[e].id;if(b){if(a[e].type=="range"){h.id="sliderID"+c;a[e].name="clonedSlider";a[e].value=arrayValueHash[c];sliderSubLabelName="sub"+b+c}a[e].id=b+c}}var j=document.getElementById("slidertemplate");j.parentNode.insertBefore(h,j);var k=document.getElementById("sliderTitle"+c);var g=arrayLegendHash[c];if(g){k.innerHTML="("+c+") "+g}else{k.innerHTML="("+c+") "+l}f=document.getElementById(sliderSubLabelName);f.innerHTML=arrayValueHash[c]}function clearScreen(){arrayLegendHash=new Array();arrayValueHash=new Array();colorArray=[];var a=document.getElementsByName("clonedSlider");var c=a.length;for(var b=0;b<c;b++){a[0].parentNode.parentNode.removeChild(a[0].parentNode)}}function alphaNumericType(b){var a;if(/[^a-zA-Z0-9. _]/.test(b)){a=0}if(/[\[\(\{]/.test(b)){a=6}if(/[\]\)\}]/.test(b)){a=5}if(/[\+\-\/\*\^\%\\\!]/.test(b)){a=4}if(/[0-9.]/.test(b)){a=2}if(/[a-zA-Z]/.test(b)){a=1}return a}function clearAndParseEquation(){clearScreen();parseEquation()}function parseEquation(){var f=document.getElementById("mainEquation").value;var a=new Array();var g=0;for(var e=0;e<f.length;e++){var c=alphaNumericType(f[e]);if(c==1){var h=0;for(var b=0;b<a.length;b++){if(f[e]==a[b]){h=1}}if(h==0){a[a.length]=f[e];moreSliders(f[e],"")}}else{if(c==6){g=g+1}else{if(c==5){g=g-1}}}}if(g!=0){alert("parenthesis are not fully closed");return}solveEquation(document.getElementById("mainEquation").value);if(f.length>0){updateGraph()}}function solveEquation(n){var j=new Array();var k=0;var l=0;for(var f=0;f<n.length;f++){if(alphaNumericType(n[f])==2){if(f==n.length){j[k]=n[f];k=k+1}else{l=l+1}}else{if(l>0){j[k]=n.substring(f-l,f);k=k+1;l=0}j[k]=n[f];k=k+1}}var b="";var m=0;for(var f=0;f<j.length;f++){if(f>0){if(alphaNumericType(j[f])==6&&alphaNumericType(j[f-1])==2){b+="*"}if(alphaNumericType(j[f])==1&&alphaNumericType(j[f-1])==2){b+="*"+arrayValueHash[j[f]];m=1}if(alphaNumericType(j[f])==1&&alphaNumericType(j[f-1])==1){b+="*"+arrayValueHash[j[f]];m=1}if(alphaNumericType(j[f])==2&&alphaNumericType(j[f-1])==5){b+="*"}if(alphaNumericType(j[f])==2&&alphaNumericType(j[f-1])==2){b+="*"}}if(j[f]=="%"){b+="*(.01)"}else{if(m==0){if(alphaNumericType(j[f])==1){b+=arrayValueHash[j[f]]}else{b+=j[f]}}else{m=0}}}var h="";for(var f=0;f<b.length;f++){newStringAlphaType=alphaNumericType(b[f]);if(f>0){if(newStringAlphaType==3&&alphaNumericType(b[f-1])==3){h+="*"}}if(newStringAlphaType!=" "){h+=b[f]}}if(h!=""){var c;var a=new MathProcessor();try{c=a.parse(h)}catch(g){c=0}document.getElementById("mainResult").innerHTML=c}stringifyPage()}function updateGraph(){var g=document.getElementById("subgraphChart");if(g!=null){document.getElementById("graphChart").removeChild(g)}var t=document.createElement("div");t.id="subgraphChart";t.innerHTML="";document.getElementById("graphChart").appendChild(t);var q=Raphael("subgraphChart");q.g.txtattr.font="12px 'Fontin Sans', Fontin-Sans, sans-serif";var f=new Array;var u=new Array;var n=new Array;var s=new Array;var l="<b>Legend</b><ul>";for(i=0;i<100;i++){s[i]=i}var m=0;var b=arrayValueHash;for(var k in b){var c=colorArray[m];if(c==null){colorArray[m]=Raphael.getColor()}var o=arrayLegendHash[k];if(o==null){o="Unlabeled"}l+='<li><FONT COLOR="'+colorArray[m]+'">'+k+"("+o+"): "+colorArray[m]+"</FONT></li>";var a=arrayValueHash[k];n[0]=0;for(var h=1;h<100;h++){arrayValueHash[k]=h;solveEquation(document.getElementById("mainEquation").value);n[h]=document.getElementById("mainResult").innerHTML}f[m]=s.slice();u[m]=n.slice();arrayValueHash[k]=a;m=m+1}solveEquation(document.getElementById("mainEquation").value);l+="</ul>";var e=document.createElement("div");e.id="subgraphLegend";e.innerHTML=l;document.getElementById("subgraphChart").appendChild(e);var v=q.g.linechart(60,10,1000,300,f,u,{nostroke:false,axis:"0 0 1 1",symbol:"o",smooth:true,colors:colorArray}).hoverColumn(function(){this.tags=q.set();for(var j=0,w=this.y.length;j<w;j++){this.tags.push(q.g.tag(this.x,this.y[j],this.values[j],160,10).insertBefore(this).attr([{fill:"#fff"},{fill:this.symbols[j].attr("fill")}]))}},function(){this.tags&&this.tags.remove()});v.symbols.attr({r:3})};
</script>
<style type="text/css">

span.leftTitle {
  display: inline-block;
  width: 200px;
}

</style>

<title>HTML5+JavaScript Sliders - A work in progress</title>
<body>
<h2>HTML5+JavaScript Sliders - A work in progress</h2>

Equation: <input type="text" id="mainEquation" size="60"/>  = <span id="mainResult">0</span>
<input type="button" value="Parse Equation" onclick="clearAndParseEquation()" />
<h6>
Simply click parse equation, and all variables become dynamic html5 sliders<br>
Use it to easily gauge the effect of multivariable equations in real life<br>
Example: 2x + 3K((y-34x) - (3y/100)) (Could be the cost of a product minus taxes, rates, etc)<br>
**NOTE** - Newer browsers which do not yet support HTML5 sliders will show text entry boxes
</h6>


 <!-- Invisible Slider Template used to clone sliders -->
	<div id="slidertemplate" name="sliderNameTemplate" style="display: none">
		<span id="sliderTitle" class="leftTitle"></span>
		<input type="range" id="rangesliderID" min="0" max="100" value="0" step="1" onchange="showValue(this.value, this.id)" />
	   <span id="subrangesliderID">0</span>
	   <input type="button" id="Title" value="Rename" onclick="renameSlider(this.id)" />
	</div>
	<br>
	<div id="graphChart"></div>
	<br>Copy the below Equation Hash to continue editing your equation later. <br>
	Paste any Equation Hash here and click Load to Continue editing. <br>
	<input type="text" id="savebar" value="" />
	<input type="button" id="LoadButton" value="Load" onclick="loadSaved()" />

</body>
</html>


